# 05장. 개발 환경 돌아보기

## 5.1 왜 환경을 돌아봐야 하나

* 팀 생산성은 **도구 체인 표준화**에서 시작. Node 버전/패키지 매니저/모노레포/품질도구가 핵심.

## 5.2 Node.js와 버전 매니저

### 5.2.1 Node.js 구조·원리

* V8 + libuv(이벤트 루프) + 빌트인 모듈. 비동기 I/O 기반.

### 5.2.2 버전 매니저(nvm / fnm)

**/05-nvm/.nvmrc**

```
20
```

**사용 예**

```bash
nvm use    # .nvmrc에 명시된 버전 사용
nvm install 20
```

## 5.3 패키지 매니저 비교

* **npm**: 표준.
* **yarn**: 워크스페이스/속도 개선(클래식/berry).
* **pnpm**: 하드링크 기반 저장소로 **디스크 효율/속도** 우수.

### 워크스페이스 예시(pnpm)

**/05-mono/pnpm-workspace.yaml**

```yaml
packages:
  - 'packages/*'
  - 'apps/*'
```

## 5.4 모노레포와 도구

* 장점: 공통 코드 공유, 일관된 버전, 원자적 변경.
* 도구: **Turborepo, Nx, Lage** 등.

### Turborepo 파이프라인 예

**/05-mono/turbo.json**

```json
{
  "$schema": "https://turbo.build/schema.json",
  "pipeline": {
    "build": { "dependsOn": ["^build"], "outputs": ["dist/**"] },
    "dev": { "cache": false }
  }
}
```

## 5.5 코드 퀄리티와 포매팅

### 5.5.1 ESLint

**/.eslintrc.json**

```json
{
  "env": { "browser": true, "es2022": true },
  "extends": ["eslint:recommended", "plugin:react/recommended"],
  "parserOptions": { "ecmaVersion": "latest", "sourceType": "module" },
  "settings": { "react": { "version": "detect" } },
  "rules": { "no-unused-vars": ["warn", { "argsIgnorePattern": "^_" }] }
}
```

### 5.5.2 Prettier

**/.prettierrc**

```json
{ "semi": true, "singleQuote": true, "printWidth": 100 }
```

### 5.5.3 정적 분석(타입·보안·성능)

* TypeScript, eslint-plugin-security, eslint-plugin-react-perf 등 연계.

## 5.6 리액트 개발 도구

### 5.6.1 React DevTools

* 컴포넌트 트리/Props/State 확인, 렌더링 원인 추적(Profiler).

### 5.6.2 React Scan(실시간 렌더 원인)

* 개발 중 불필요한 렌더 감지.

## 5.7 리액트 개발 환경과 빌드 도구

### 5.7.1 비트(Vite) 최소 설정

**/05-vite/index.html**

```html
<div id="app"></div>
<script type="module" src="/main.jsx"></script>
```

**/05-vite/main.jsx**

```jsx
import { createRoot } from 'react-dom/client';
createRoot(document.getElementById('app')).render(<h1>Vite + React</h1>);
```

### 5.7.2 Rsbuild 최소 설정

**/05-rsbuild/rsbuild.config.ts**

```ts
import { defineConfig } from '@rsbuild/core';
import { pluginReact } from '@rsbuild/plugin-react';
export default defineConfig({
  plugins: [pluginReact()],
  html: { template: './index.html' }
});
```

### 5.7.3 React Router 최소 예시

**/05-router/main.jsx**

```jsx
import { createRoot } from 'react-dom/client';
import { createBrowserRouter, RouterProvider, Link } from 'react-router-dom';

function Home(){ return <h2>홈</h2>; }
function About(){ return <h2>소개</h2>; }

const router = createBrowserRouter([
  { path: '/', element: <Home /> },
  { path: '/about', element: <About /> }
]);

createRoot(document.getElementById('app')).render(
  <>
    <nav><Link to="/">홈</Link> | <Link to="/about">소개</Link></nav>
    <RouterProvider router={router} />
  </>
);
```

**핵심 키워드 리마인드**
Node 버전 관리/패키지 매니저/모노레포/ESLint·Prettier/DevTools/Vite·Rsbuild/라우팅

---

## 다음 학습 가이드

* 필요하시면 각 장의 **실습 프로젝트** 형태로 확장(테스트, 배포, 성능 측정까지) 진행해 드리겠습니다.
* 원하시는 장부터 “코드만 더” 또는 “설명+코드 확장” 중 어떤 방식으로 갈지 지시해 주세요.
* 또한 파일 경로/파일명 표준(예: `apps/web`, `packages/ui`)을 정해 모노레포 템플릿까지 만들어드릴 수 있습니다.
