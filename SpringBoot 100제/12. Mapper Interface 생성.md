### 12. Controller와 Service 분리 패턴

---

#### 1) **왜 분리할까?**

* **Controller**: API 요청/응답 처리에 집중
* **Service**: 비즈니스 로직(계산, 데이터 가공 등)에 집중
* 코드 유지보수성 ↑, 테스트 용이성 ↑, 역할 명확화

---

#### 2) **구조**

```
src/main/java/com/example/springbootstart/
 ├─ controller/
 │    └─ UserController.java
 ├─ service/
 │    └─ UserService.java
 ├─ repository/
 │    └─ UserMapper.java
```

---

#### 3) **예시 코드**

##### (1) **Service**

**경로**: `src/main/java/com/example/springbootstart/service/UserService.java`

```java
package com.example.springbootstart.service;

import org.springframework.stereotype.Service;

@Service
public class UserService {
    public String getUserName(Long id) {
        // DB에서 가져왔다고 가정
        return "사용자 이름: 홍길동 (ID: " + id + ")";
    }
}
```

##### (2) **Controller**

**경로**: `src/main/java/com/example/springbootstart/controller/UserController.java`

```java
package com.example.springbootstart.controller;

import com.example.springbootstart.service.UserService;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class UserController {

    private final UserService userService;

    // 생성자 주입
    public UserController(UserService userService) {
        this.userService = userService;
    }

    @GetMapping("/user/{id}")
    public String getUser(@PathVariable Long id) {
        // 비즈니스 로직은 Service로 위임
        return userService.getUserName(id);
    }
}
```

---

#### 4) **실행 결과**

* 실행 후 브라우저에서 확인:

```
http://localhost:8080/user/1
```

* 응답:

```
사용자 이름: 홍길동 (ID: 1)
```

---

**다음 단계는 `13. GET API 작성` 입니다. 진행할까요?**
