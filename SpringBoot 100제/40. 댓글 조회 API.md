### 40. JUnit으로 단위 테스트 작성

---

#### 1) **목표**

* Service 계층 메서드를 단위 테스트하여 **DB 연동 정상 동작 확인**
* JUnit 5 + Spring Boot Test 환경 사용

---

#### 2) **의존성 확인 (pom.xml)**

Spring Boot Starter Test는 기본 포함됨:

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-test</artifactId>
    <scope>test</scope>
</dependency>
```

> 따로 추가하지 않아도 대부분 자동 포함됨

---

#### 3) **테스트 클래스 생성**

**경로**: `src/test/java/com/example/springbootstart/service/UserServiceTest.java`

```java
package com.example.springbootstart.service;

import com.example.springbootstart.dto.UserDto;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import static org.assertj.core.api.Assertions.assertThat;

@SpringBootTest
public class UserServiceTest {

    @Autowired
    private UserService userService;

    @Test
    void testCreateUser() {
        UserDto user = new UserDto();
        user.setName("JUnit Test");
        user.setAge(25);
        user.setEmail("junit@test.com");

        int result = userService.createUser(user);
        assertThat(result).isEqualTo(1);
    }

    @Test
    void testGetUser() {
        UserDto user = userService.getUser(1L);
        assertThat(user).isNotNull();
        assertThat(user.getName()).isNotBlank();
    }
}
```

---

#### 4) **실행**

* IntelliJ에서 `UserServiceTest` 우클릭 → **Run**
* 터미널:

```bash
./mvnw test
```

---

#### 5) **결과 확인**

* 성공 시:

```
BUILD SUCCESS
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0
```

* 실패 시:

```
Tests run: 2, Failures: 1
```

→ 원인 분석 후 코드 수정

---

#### 6) **장점**

* 코드 변경 시 빠르게 오류 여부 확인 가능
* CI/CD 환경에서 자동화 테스트로 활용 가능

---

**다음 단계는 `41. 게시판 테이블 설계 (게시글, 댓글)` 입니다. 진행할까요?**
