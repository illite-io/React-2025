### 49. 댓글 삭제 API

---

#### 1) **목표**

* 댓글 ID 기준으로 댓글 삭제
* 삭제 성공 여부에 따라 응답 반환

---

#### 2) **Mapper 인터페이스 수정**

**경로**: `src/main/java/com/example/springbootstart/mapper/CommentMapper.java`

```java
package com.example.springbootstart.mapper;

import com.example.springbootstart.dto.CommentDto;
import org.apache.ibatis.annotations.Mapper;
import java.util.List;

@Mapper
public interface CommentMapper {
    int insertComment(CommentDto commentDto);
    List<CommentDto> findCommentsByBoardId(Long boardId);
    int updateComment(CommentDto commentDto);

    // 댓글 삭제
    int deleteComment(Long id);
}
```

---

#### 3) **Mapper XML 수정**

**경로**: `src/main/resources/mapper/CommentMapper.xml`

```xml
<delete id="deleteComment" parameterType="long">
    DELETE FROM comment WHERE id = #{id}
</delete>
```

---

#### 4) **Service 수정**

**경로**: `src/main/java/com/example/springbootstart/service/CommentService.java`

```java
public int deleteComment(Long id) {
    return commentMapper.deleteComment(id);
}
```

---

#### 5) **Controller 수정**

**경로**: `src/main/java/com/example/springbootstart/controller/CommentController.java`

```java
@DeleteMapping("/{id}")
public ResponseEntity<?> deleteComment(@PathVariable Long id) {
    int result = commentService.deleteComment(id);
    return result == 1 ? ResponseEntity.ok("댓글 삭제 성공")
                       : ResponseEntity.notFound().build();
}
```

---

#### 6) **테스트 요청**

**DELETE 요청**

```
http://localhost:8080/comments/2
```

**응답**

```
댓글 삭제 성공
```

---

#### 7) **DB 확인**

```sql
SELECT * FROM comment WHERE id = 2;
```

→ 해당 데이터가 삭제되어야 함

---

**다음 단계는 `50. 회원-게시글-댓글 관계 조회 (Join)` 입니다. 진행할까요?**
