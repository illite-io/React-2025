좋습니다.
그럼 **React Hooks 시작하기 100제 – 55번 `useDrag` (드래그 상태 관리)** 예제로 넘어가겠습니다.

---

## 55. `useDrag` – 드래그 상태 관리

### 목적

* 마우스 또는 터치 입력을 이용해 요소를 드래그하는 기능 구현
* 카드 재정렬, 이미지 위치 조정, 커스텀 슬라이더 등에 활용

---

### 파일 경로: `src/hooks/useDrag.js`

```javascript
import { useCallback, useRef, useState } from 'react';

/**
 * useDrag
 * @param {Function} onDrag - 드래그 중 좌표를 반환하는 콜백
 * @param {Function} onDragEnd - 드래그 종료 시 호출되는 콜백
 * @returns {object} 드래그 이벤트 바인딩용 props
 */
export default function useDrag(onDrag, onDragEnd) {
  const draggingRef = useRef(false);
  const [position, setPosition] = useState({ x: 0, y: 0 });

  const startDrag = useCallback((e) => {
    draggingRef.current = true;
    const { clientX, clientY } = getClientXY(e);
    setPosition({ x: clientX, y: clientY });
  }, []);

  const onMove = useCallback(
    (e) => {
      if (!draggingRef.current) return;
      const { clientX, clientY } = getClientXY(e);
      onDrag?.({ x: clientX, y: clientY });
      setPosition({ x: clientX, y: clientY });
    },
    [onDrag]
  );

  const endDrag = useCallback(
    (e) => {
      if (!draggingRef.current) return;
      draggingRef.current = false;
      const { clientX, clientY } = getClientXY(e);
      onDragEnd?.({ x: clientX, y: clientY });
    },
    [onDragEnd]
  );

  const getClientXY = (e) => {
    if (e.touches && e.touches.length > 0) {
      return { clientX: e.touches[0].clientX, clientY: e.touches[0].clientY };
    }
    return { clientX: e.clientX, clientY: e.clientY };
  };

  return {
    onMouseDown: startDrag,
    onTouchStart: startDrag,
    onMouseMove: onMove,
    onTouchMove: onMove,
    onMouseUp: endDrag,
    onTouchEnd: endDrag,
    position,
  };
}
```

---

### 사용 예시

**파일 경로:** `src/App.js`

```javascript
import React, { useState } from 'react';
import useDrag from './hooks/useDrag';

export default function App() {
  const [log, setLog] = useState('');

  const { position, ...bind } = useDrag(
    (pos) => setLog(`드래그 중: X=${pos.x}, Y=${pos.y}`),
    (pos) => setLog(`드래그 종료: X=${pos.x}, Y=${pos.y}`)
  );

  return (
    <div style={{ padding: 24 }}>
      <h1>useDrag – 드래그 상태 관리</h1>

      <div
        {...bind}
        style={{
          width: 120,
          height: 120,
          background: '#3b82f6',
          borderRadius: 8,
          userSelect: 'none',
          touchAction: 'none',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          color: '#fff',
          fontWeight: 'bold',
          cursor: 'grab',
        }}
      >
        Drag
      </div>

      <p style={{ marginTop: 16 }}>{log}</p>
      <p>현재 좌표: X={position.x}, Y={position.y}</p>
    </div>
  );
}
```

---

### 구현 포인트

* **마우스 & 터치 이벤트 모두 지원**
* **상태(position)** 로 UI 반영 가능
* **콜백 기반(onDrag, onDragEnd)** 으로 외부 로직과 분리
* CSS `touch-action: none` 으로 모바일 스크롤과 제스처 충돌 방지

---

다음은 **56번 `useFocus` – 포커스 상태 감지** 예제로 넘어가겠습니다.
진행할까요?
