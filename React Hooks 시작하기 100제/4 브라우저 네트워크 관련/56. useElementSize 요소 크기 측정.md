좋습니다.
**React Hooks 시작하기 100제 – 56번 `useDrop` (드롭 상태 관리)** 예제로 넘어가겠습니다.

---

## 56. `useDrop` – 드롭 상태 관리

### 목적

* HTML5 Drag & Drop의 **drop zone**을 간단히 구현
* 파일/텍스트/URL 드롭 처리, 드롭 영역 hover 상태 관리

---

### 파일 경로: `src/hooks/useDrop.js`

```javascript
import { useCallback, useMemo, useState } from 'react';

/**
 * useDrop
 * @param {Object}   options
 * @param {Function} options.onFiles    파일 드롭 시 ([File]) 호출
 * @param {Function} options.onText     텍스트 드롭 시 (string) 호출
 * @param {Function} options.onUri      URL 드롭 시 (string) 호출
 * @returns {[boolean, object]}
 *   - isOver: 드롭 영역 위에 있는지 여부
 *   - bind:   드롭 영역 div 등에 펼쳐 붙일 이벤트 핸들러 세트
 */
export default function useDrop({ onFiles, onText, onUri } = {}) {
  const [isOver, setIsOver] = useState(false);

  const onDragOver = useCallback((e) => {
    e.preventDefault();
    setIsOver(true);
    // 파일 드롭 가능 표시
    if (e.dataTransfer) e.dataTransfer.dropEffect = 'copy';
  }, []);

  const onDragEnter = useCallback((e) => {
    e.preventDefault();
    setIsOver(true);
  }, []);

  const onDragLeave = useCallback((e) => {
    // 자식 요소로 이동할 때도 발생하므로 관련 없는 leave는 무시해도 됨
    if (e.currentTarget.contains(e.relatedTarget)) return;
    setIsOver(false);
  }, []);

  const onDrop = useCallback(
    (e) => {
      e.preventDefault();
      setIsOver(false);
      const dt = e.dataTransfer;
      if (!dt) return;

      // 1) 파일
      if (dt.files && dt.files.length > 0) {
        onFiles && onFiles(Array.from(dt.files));
        return;
      }

      // 2) URL
      const uri = dt.getData('text/uri-list') || dt.getData('text/x-moz-url');
      if (uri) {
        onUri && onUri(uri);
        return;
      }

      // 3) 일반 텍스트
      const text = dt.getData('text/plain');
      if (text) {
        onText && onText(text);
      }
    },
    [onFiles, onText, onUri]
  );

  const bind = useMemo(
    () => ({
      onDragOver,
      onDragEnter,
      onDragLeave,
      onDrop,
    }),
    [onDragOver, onDragEnter, onDragLeave, onDrop]
  );

  return [isOver, bind];
}
```

---

### 사용 예시

**파일 경로:** `src/App.js`

```javascript
import React, { useState } from 'react';
import useDrop from './hooks/useDrop';

export default function App() {
  const [logs, setLogs] = useState([]);

  const log = (msg) => setLogs((prev) => [msg, ...prev]);

  const [isOver, bind] = useDrop({
    onFiles: (files) => log(`파일 ${files.length}개 드롭: ${files.map(f => f.name).join(', ')}`),
    onText:  (text)  => log(`텍스트 드롭: ${text.slice(0, 60)}${text.length > 60 ? '...' : ''}`),
    onUri:   (uri)   => log(`URL 드롭: ${uri}`),
  });

  return (
    <div style={{ padding: 24 }}>
      <h1>useDrop – 드롭 상태 관리</h1>

      <div
        {...bind}
        style={{
          height: 180,
          borderRadius: 12,
          border: `2px dashed ${isOver ? '#3b82f6' : '#cbd5e1'}`,
          background: isOver ? '#eff6ff' : '#f8fafc',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          color: '#334155',
          userSelect: 'none',
          transition: 'all 120ms ease',
        }}
      >
        여기로 파일/텍스트/URL을 드롭하세요
      </div>

      <ul style={{ marginTop: 16, color: '#475569' }}>
        {logs.map((l, i) => (
          <li key={i}>{l}</li>
        ))}
      </ul>
    </div>
  );
}
```

---

### 구현 포인트

* `e.preventDefault()`를 `dragover`/`drop`에서 호출해야 브라우저 기본 동작(새 탭으로 열기 등)을 막고 드롭을 허용
* 파일, URL, 일반 텍스트를 **우선순위로 분기 처리**해 다양한 케이스 대응
* `isOver` 상태로 드롭 영역의 스타일을 변경하여 사용성 향상
* 보안/권한: 파일은 브라우저 샌드박스 내에서만 접근되며, 실제 업로드는 별도 API 필요

---

다음은 **57번 `useTouch` – 터치 제스처 감지** 예제로 이어가겠습니다. 계속 진행할까요?
