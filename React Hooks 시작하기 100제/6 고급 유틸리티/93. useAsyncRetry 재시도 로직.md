좋습니다.
그럼 **React Hooks 시작하기 100제 – 93번 `usePrefersColorScheme` (시스템 테마 동기화)** 예제로 넘어가겠습니다.

---

## 93. `usePrefersColorScheme` – 시스템 다크/라이트 모드 감지

### 목적

* 시스템 설정에 맞춰 다크/라이트 테마를 **자동 감지**
* CSS `prefers-color-scheme` 미디어쿼리 기반
* 사용자 테마 설정 로직과 결합 가능 (localStorage, DB 저장 등)

---

### 파일 경로: `src/hooks/usePrefersColorScheme.js`

```javascript
import useMediaQuery from './useMediaQuery';

/**
 * @returns {'light'|'dark'}
 */
export default function usePrefersColorScheme() {
  const prefersDark = useMediaQuery('(prefers-color-scheme: dark)');
  return prefersDark ? 'dark' : 'light';
}
```

---

### 사용 예시 – 자동 테마 적용

**파일 경로:** `src/App.js`

```javascript
import React, { useEffect } from 'react';
import usePrefersColorScheme from './hooks/usePrefersColorScheme';

export default function App() {
  const theme = usePrefersColorScheme();

  useEffect(() => {
    document.body.dataset.theme = theme; // body에 data-theme 속성 부여
  }, [theme]);

  return (
    <div
      style={{
        minHeight: '100vh',
        background: theme === 'dark' ? '#0f172a' : '#ffffff',
        color: theme === 'dark' ? '#f8fafc' : '#0f172a',
        padding: 24,
      }}
    >
      <h1>usePrefersColorScheme</h1>
      <p>현재 시스템 테마: {theme}</p>
      <p>시스템 설정에서 다크/라이트 모드를 변경해보세요.</p>
    </div>
  );
}
```

---

### 추가 – 사용자 선택과 시스템 설정 결합

```javascript
import React, { useState, useEffect } from 'react';
import usePrefersColorScheme from './hooks/usePrefersColorScheme';

export default function ThemeSwitcher() {
  const systemTheme = usePrefersColorScheme();
  const [theme, setTheme] = useState(systemTheme);

  useEffect(() => {
    if (theme === 'system') {
      setTheme(systemTheme);
    }
  }, [systemTheme, theme]);

  return (
    <div>
      <select value={theme} onChange={(e) => setTheme(e.target.value)}>
        <option value="light">라이트</option>
        <option value="dark">다크</option>
        <option value="system">시스템</option>
      </select>
      <div style={{
        marginTop: 16,
        padding: 16,
        background: theme === 'dark' ? '#0f172a' : '#ffffff',
        color: theme === 'dark' ? '#f8fafc' : '#0f172a'
      }}>
        현재 적용 테마: {theme}
      </div>
    </div>
  );
}
```

---

### 구현 포인트

* **useMediaQuery** 훅을 재사용해 불필요한 코드 중복 방지
* `prefers-color-scheme`는 `light` 또는 `dark` 값을 반환
* `system` 옵션을 만들어 사용자 선택과 시스템 설정을 **하이브리드**로 사용 가능
* CSS에서도 동일한 미디어쿼리로 기본 스타일 제공 가능

---

다음은 **94번 `usePrefersReducedMotion` – 사용자 모션 선호도 감지** 예제로 이어가겠습니다.
이 훅은 애니메이션, 전환 효과를 줄이는 접근성 기능과 연동됩니다. 계속 진행할까요?
