좋습니다.
그럼 **React Hooks 시작하기 100제 – 97번 `useBattery` (배터리 상태 감지)** 예제로 넘어가겠습니다.

---

## 97. `useBattery` – 배터리 상태 감지

### 목적

* 브라우저의 Battery Status API를 이용해 **배터리 잔량, 충전 여부, 남은 시간** 등을 가져옴
* 모바일, 노트북 환경에서 전력 상태 기반 UI/기능 조정 가능
  (예: 배터리 부족 시 애니메이션 비활성화, 데이터 요청 최소화)

---

### 파일 경로: `src/hooks/useBattery.js`

```javascript
import { useState, useEffect } from 'react';

/**
 * useBattery
 * @returns {{
 *   supported: boolean,
 *   charging: boolean | null,
 *   chargingTime: number | null,
 *   dischargingTime: number | null,
 *   level: number | null
 * }}
 */
export default function useBattery() {
  const [batteryState, setBatteryState] = useState({
    supported: true,
    charging: null,
    chargingTime: null,
    dischargingTime: null,
    level: null,
  });

  useEffect(() => {
    let batteryRef;

    const handleChange = () => {
      setBatteryState({
        supported: true,
        charging: batteryRef.charging,
        chargingTime: batteryRef.chargingTime,
        dischargingTime: batteryRef.dischargingTime,
        level: batteryRef.level,
      });
    };

    if ('getBattery' in navigator) {
      navigator.getBattery().then((battery) => {
        batteryRef = battery;
        handleChange();

        battery.addEventListener('chargingchange', handleChange);
        battery.addEventListener('chargingtimechange', handleChange);
        battery.addEventListener('dischargingtimechange', handleChange);
        battery.addEventListener('levelchange', handleChange);
      });
    } else {
      setBatteryState((prev) => ({ ...prev, supported: false }));
    }

    return () => {
      if (batteryRef) {
        batteryRef.removeEventListener('chargingchange', handleChange);
        batteryRef.removeEventListener('chargingtimechange', handleChange);
        batteryRef.removeEventListener('dischargingtimechange', handleChange);
        batteryRef.removeEventListener('levelchange', handleChange);
      }
    };
  }, []);

  return batteryState;
}
```

---

### 사용 예시

**파일 경로:** `src/App.js`

```javascript
import React from 'react';
import useBattery from './hooks/useBattery';

export default function App() {
  const { supported, charging, chargingTime, dischargingTime, level } = useBattery();

  if (!supported) {
    return <p>이 브라우저는 Battery Status API를 지원하지 않습니다.</p>;
  }

  return (
    <div style={{ padding: 24 }}>
      <h1>useBattery – 배터리 상태 감지</h1>
      {level != null && <p>배터리 잔량: {Math.round(level * 100)}%</p>}
      {charging != null && <p>충전 중: {charging ? '예' : '아니오'}</p>}
      {chargingTime != null && chargingTime !== Infinity && (
        <p>완충까지 남은 시간: {Math.round(chargingTime / 60)}분</p>
      )}
      {dischargingTime != null && dischargingTime !== Infinity && (
        <p>방전까지 남은 시간: {Math.round(dischargingTime / 60)}분</p>
      )}
    </div>
  );
}
```

---

### 구현 포인트

* **지원 여부**(`supported`)를 반드시 체크해야 함 (대부분 데스크톱 브라우저에서는 지원 안 함)
* 이벤트 리스너로 배터리 상태 변화를 실시간 반영
* 모바일/노트북 환경에서 **저전력 모드 UI 최적화** 가능
* API 보안 정책상 HTTPS 환경 필요

---

다음은 **98번 `useNetworkStatus` – 네트워크 상태 감지** 예제로 진행할까요?
이 훅은 온라인/오프라인 여부와 연결 속도 추정을 할 수 있습니다.
