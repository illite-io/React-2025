좋습니다.
그럼 **React Hooks 시작하기 100제 – 83번 `useClipboardFiles` (클립보드 파일 붙여넣기 읽기)** 예제로 넘어가겠습니다.

---

## 83. `useClipboardFiles` – 클립보드에서 파일 읽기

### 목적

* 사용자가 클립보드에 복사한 **이미지·파일**을 읽어와 처리
* 채팅 이미지 업로드, 노트 앱 붙여넣기 첨부 등에 활용
* `paste` 이벤트와 `clipboardData.items` 활용

---

### 파일 경로: `src/hooks/useClipboardFiles.js`

```javascript
import { useEffect, useState } from 'react';

/**
 * useClipboardFiles
 * @param {Function} onFiles - 파일 배열을 처리하는 콜백
 * @returns {{ files: File[] }}
 */
export default function useClipboardFiles(onFiles) {
  const [files, setFiles] = useState([]);

  useEffect(() => {
    const handlePaste = (e) => {
      const items = e.clipboardData?.items;
      if (!items) return;

      const fileList = [];
      for (const item of items) {
        if (item.kind === 'file') {
          const file = item.getAsFile();
          if (file) fileList.push(file);
        }
      }

      if (fileList.length > 0) {
        setFiles(fileList);
        if (typeof onFiles === 'function') {
          onFiles(fileList);
        }
      }
    };

    window.addEventListener('paste', handlePaste);
    return () => {
      window.removeEventListener('paste', handlePaste);
    };
  }, [onFiles]);

  return { files };
}
```

---

### 사용 예시

**파일 경로:** `src/App.js`

```javascript
import React, { useCallback, useState } from 'react';
import useClipboardFiles from './hooks/useClipboardFiles';

export default function App() {
  const [images, setImages] = useState([]);

  const handleFiles = useCallback((files) => {
    const imgFiles = files.filter((f) => f.type.startsWith('image/'));
    const urls = imgFiles.map((file) => URL.createObjectURL(file));
    setImages((prev) => [...prev, ...urls]);
  }, []);

  const { files } = useClipboardFiles(handleFiles);

  return (
    <div style={{ padding: 24 }}>
      <h1>useClipboardFiles – 클립보드 파일 붙여넣기</h1>
      <p>이미지 파일을 복사(Ctrl+C) 후 이 페이지에서 붙여넣기(Ctrl+V) 해보세요.</p>
      <p>붙여넣은 파일 수: {files.length}</p>

      <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap', marginTop: 12 }}>
        {images.map((src, i) => (
          <img key={i} src={src} alt={`pasted-${i}`} style={{ width: 120, height: 120, objectFit: 'cover', border: '1px solid #ccc' }} />
        ))}
      </div>
    </div>
  );
}
```

---

### 구현 포인트

* `paste` 이벤트에서 `clipboardData.items`로 파일 추출
* 이미지 외에도 PDF, 텍스트 파일 등 다양한 타입 가능
* `URL.createObjectURL`로 미리보기 지원
* 대량 파일 붙여넣기 시 메모리 해제를 위해 **URL.revokeObjectURL** 필요

---

다음은 **84번 `useSelection` – 텍스트 선택 영역 추적** 예제로 넘어가겠습니다.
이 훅은 문서 편집기, 코드 뷰어, 주석 도구 등에 자주 쓰입니다.
진행할까요?
