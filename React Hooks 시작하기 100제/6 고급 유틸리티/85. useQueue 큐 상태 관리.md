좋습니다.
그럼 **React Hooks 시작하기 100제 – 85번 `useClipboardImage` (이미지 복사/붙여넣기)** 예제로 넘어가겠습니다.

---

## 85. `useClipboardImage` – 이미지 복사 & 붙여넣기

### 목적

* 사용자가 캡처하거나 이미지를 **클립보드로 복사 후 붙여넣기**하면 읽어서 표시
* 채팅, 문서, 디자인 툴에서 이미지 빠르게 붙여넣을 때 사용
* `paste` 이벤트와 `clipboardData.items`를 활용

---

### 파일 경로: `src/hooks/useClipboardImage.js`

```javascript
import { useEffect, useState } from 'react';

/**
 * useClipboardImage
 * @param {Function} onImage - 붙여넣은 이미지 File 객체를 처리하는 콜백
 * @returns {{ image: string | null }} - 미리보기 URL
 */
export default function useClipboardImage(onImage) {
  const [image, setImage] = useState(null);

  useEffect(() => {
    const handlePaste = (e) => {
      const items = e.clipboardData?.items;
      if (!items) return;

      for (const item of items) {
        if (item.type.startsWith('image/')) {
          const file = item.getAsFile();
          if (file) {
            const url = URL.createObjectURL(file);
            setImage(url);
            if (typeof onImage === 'function') {
              onImage(file);
            }
            break; // 첫 번째 이미지 파일만 처리
          }
        }
      }
    };

    window.addEventListener('paste', handlePaste);
    return () => {
      window.removeEventListener('paste', handlePaste);
    };
  }, [onImage]);

  return { image };
}
```

---

### 사용 예시

**파일 경로:** `src/App.js`

```javascript
import React, { useState } from 'react';
import useClipboardImage from './hooks/useClipboardImage';

export default function App() {
  const [uploaded, setUploaded] = useState(null);

  const { image } = useClipboardImage((file) => {
    console.log('붙여넣은 이미지 파일:', file);
    setUploaded(file.name);
  });

  return (
    <div style={{ padding: 24 }}>
      <h1>useClipboardImage – 이미지 붙여넣기</h1>
      <p>화면 캡처(PrtScn 또는 Command+Shift+4) 후 Ctrl+V로 붙여넣어 보세요.</p>

      {image ? (
        <div>
          <img src={image} alt="clipboard" style={{ maxWidth: 400, marginTop: 12, border: '1px solid #ccc' }} />
          <p>파일명: {uploaded}</p>
        </div>
      ) : (
        <p style={{ color: '#666' }}>아직 붙여넣은 이미지가 없습니다.</p>
      )}
    </div>
  );
}
```

---

### 구현 포인트

* 붙여넣은 이미지 파일을 \*\*`URL.createObjectURL`\*\*로 미리보기 제공
* 메모리 누수를 막기 위해 컴포넌트 언마운트 시 **`URL.revokeObjectURL`** 호출 권장
* PNG, JPEG, GIF 등 대부분의 이미지 포맷 지원
* 채팅 앱, 댓글, 노트 앱 등에서 매우 자주 쓰임

---

다음은 **86번 `useUndoRedo` – 되돌리기/다시하기 스택** 예제로 넘어가겠습니다.
이 훅은 텍스트 편집기, 그림판, 폼 입력 이력 등에서 유용합니다.
진행할까요?
