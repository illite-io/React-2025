좋습니다.
그럼 **React Hooks 시작하기 100제 – 98번 `useNetworkStatus` (네트워크 상태 감지)** 예제로 넘어가겠습니다.

---

## 98. `useNetworkStatus` – 네트워크 상태 감지

### 목적

* 사용자가 **온라인/오프라인** 상태인지 감지
* 네트워크 속도 추정(`navigator.connection`)이 가능하면 대역폭 기반 UI 최적화
* 오프라인 모드 지원 앱(PWA)에서 유용

---

### 파일 경로: `src/hooks/useNetworkStatus.js`

```javascript
import { useState, useEffect } from 'react';

/**
 * useNetworkStatus
 * @returns {{
 *   online: boolean,
 *   effectiveType?: string,
 *   downlink?: number,
 *   rtt?: number
 * }}
 */
export default function useNetworkStatus() {
  const getConnection = () => {
    if (navigator.connection) {
      const { effectiveType, downlink, rtt } = navigator.connection;
      return { effectiveType, downlink, rtt };
    }
    return {};
  };

  const [status, setStatus] = useState({
    online: navigator.onLine,
    ...getConnection(),
  });

  useEffect(() => {
    const updateOnline = () => setStatus((prev) => ({ ...prev, online: true, ...getConnection() }));
    const updateOffline = () => setStatus((prev) => ({ ...prev, online: false, ...getConnection() }));
    const updateConnection = () => setStatus((prev) => ({ ...prev, ...getConnection() }));

    window.addEventListener('online', updateOnline);
    window.addEventListener('offline', updateOffline);
    navigator.connection?.addEventListener('change', updateConnection);

    return () => {
      window.removeEventListener('online', updateOnline);
      window.removeEventListener('offline', updateOffline);
      navigator.connection?.removeEventListener('change', updateConnection);
    };
  }, []);

  return status;
}
```

---

### 사용 예시

**파일 경로:** `src/App.js`

```javascript
import React from 'react';
import useNetworkStatus from './hooks/useNetworkStatus';

export default function App() {
  const { online, effectiveType, downlink, rtt } = useNetworkStatus();

  return (
    <div style={{ padding: 24 }}>
      <h1>useNetworkStatus – 네트워크 상태 감지</h1>
      <p>현재 상태: {online ? '온라인' : '오프라인'}</p>
      {effectiveType && <p>연결 유형: {effectiveType}</p>}
      {downlink != null && <p>대역폭: {downlink} Mbps</p>}
      {rtt != null && <p>RTT(지연 시간): {rtt} ms</p>}
      {!online && <p style={{ color: 'crimson' }}>인터넷이 연결되지 않았습니다.</p>}
    </div>
  );
}
```

---

### 구현 포인트

* **`navigator.onLine`** → 온라인 여부
* **`navigator.connection`** → 네트워크 속성(일부 브라우저만 지원, 주로 Chromium 기반)
* 이벤트:

  * `online` / `offline` → 네트워크 연결/해제 시 발생
  * `change` (connection API) → 연결 유형/속도 변경 시 발생
* PWA에서 캐시 기반 오프라인 모드 구현 시 필수

---

다음은 **99번 `usePageVisibility` – 페이지 가시성 감지** 예제로 넘어가겠습니다.
이 훅은 탭이 백그라운드일 때 타이머나 애니메이션을 멈추는 데 유용합니다.
바로 진행할까요?
