좋습니다.
그럼 **React Hooks 시작하기 100제 – 21번 `useImperativeHandle` (자식 메서드 노출)** 예제로 넘어가겠습니다.

---

## 21. `useImperativeHandle` – 자식 메서드 노출

### 목적

* 부모 컴포넌트가 자식 컴포넌트의 내부 메서드나 속성에 직접 접근 가능하도록 함
* `forwardRef`와 함께 사용해야 함

---

### 폴더/파일 구조

```
src/
  components/
    CustomInput.js
  App.js
```

---

### 1) 자식 컴포넌트에서 메서드 정의

**파일 경로:** `src/components/CustomInput.js`

```javascript
import React, { useImperativeHandle, useRef, forwardRef } from 'react';

// forwardRef를 사용해 부모가 ref를 전달 가능하도록 설정
const CustomInput = forwardRef((props, ref) => {
  const inputRef = useRef();

  // 부모에서 접근 가능한 메서드/속성 정의
  useImperativeHandle(ref, () => ({
    focus: () => {
      inputRef.current.focus();
    },
    clear: () => {
      inputRef.current.value = '';
    }
  }));

  return <input ref={inputRef} type="text" placeholder="Custom Input" />;
});

export default CustomInput;
```

---

### 2) 부모 컴포넌트에서 메서드 사용

**파일 경로:** `src/App.js`

```javascript
import React, { useRef } from 'react';
import CustomInput from './components/CustomInput';

export default function App() {
  const customInputRef = useRef();

  return (
    <div style={{ padding: 20 }}>
      <h1>useImperativeHandle 예제</h1>
      <CustomInput ref={customInputRef} />

      <div style={{ marginTop: 10 }}>
        <button onClick={() => customInputRef.current.focus()}>
          포커스 주기
        </button>
        <button onClick={() => customInputRef.current.clear()} style={{ marginLeft: 10 }}>
          값 지우기
        </button>
      </div>
    </div>
  );
}
```

---

### 코드 설명

1. **`forwardRef` 필수**

   * 기본적으로 부모가 자식의 DOM이나 메서드에 직접 접근 불가
   * `forwardRef`로 ref를 전달받아 자식에서 활용 가능

2. **`useImperativeHandle` 사용**

   ```javascript
   useImperativeHandle(ref, () => ({
     focus: () => { ... },
     clear: () => { ... }
   }));
   ```

   * 부모에서 `customInputRef.current.focus()`처럼 호출 가능

3. **활용 예**

   * 커스텀 입력 컴포넌트에 포커스, 초기화, 선택 범위 제어 기능 제공
   * 외부 라이브러리의 특정 메서드를 부모가 직접 호출해야 할 때

---

다음은 **22번 `useLayoutEffect` – DOM 변경 직후 실행** 예제로 넘어가겠습니다.
바로 진행할까요?
