좋습니다.
그럼 **React Hooks 시작하기 100제 – 29번 `useEffect` (이벤트 리스너 등록/해제)** 예제로 넘어가겠습니다.

---

## 29. `useEffect` – 이벤트 리스너 등록/해제

### 목적

* 컴포넌트에서 전역 이벤트(window, document, 외부 라이브러리 등)를 안전하게 등록하고 해제
* **클린업 함수**를 이용해 메모리 누수 방지

---

### 파일 경로: `src/App.js`

```javascript
import React, { useState, useEffect } from 'react';

export default function App() {
  const [mousePos, setMousePos] = useState({ x: 0, y: 0 });

  useEffect(() => {
    // 이벤트 핸들러
    const handleMouseMove = (e) => {
      setMousePos({ x: e.clientX, y: e.clientY });
    };

    // 전역 마우스 이동 이벤트 등록
    window.addEventListener('mousemove', handleMouseMove);

    console.log('마우스 이벤트 등록됨');

    // 클린업: 컴포넌트 언마운트 시 이벤트 해제
    return () => {
      window.removeEventListener('mousemove', handleMouseMove);
      console.log('마우스 이벤트 해제됨');
    };
  }, []); // 마운트 시 1회만 등록

  return (
    <div style={{ padding: 20 }}>
      <h1>useEffect – 이벤트 리스너 등록/해제</h1>
      <p>마우스 위치: X: {mousePos.x}, Y: {mousePos.y}</p>
    </div>
  );
}
```

---

### 코드 설명

1. **마운트 시 이벤트 등록**

   ```javascript
   window.addEventListener('mousemove', handleMouseMove);
   ```

   * 컴포넌트가 처음 나타날 때만 실행 (의존성 배열 `[]`)

2. **언마운트 시 이벤트 해제**

   ```javascript
   return () => {
     window.removeEventListener('mousemove', handleMouseMove);
   };
   ```

   * 이벤트를 해제하지 않으면 컴포넌트가 사라진 후에도 계속 동작 → 메모리 누수 가능

3. **활용 예**

   * 스크롤 이벤트, 리사이즈 이벤트, 키보드 입력 감지
   * WebSocket 메시지 리스너, 외부 라이브러리 이벤트 훅

---

다음은 **30번 `useEffect` – 타이머 사용 및 정리** 예제로 넘어가겠습니다.
바로 이어서 진행할까요?
