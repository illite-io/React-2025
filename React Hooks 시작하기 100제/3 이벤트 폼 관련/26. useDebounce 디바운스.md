좋습니다.
그럼 **React Hooks 시작하기 100제 – 26번 `useDeferredValue` (값 업데이트 지연)** 예제로 넘어가겠습니다.

---

## 26. `useDeferredValue` – 값 업데이트 지연

### 목적

* 사용자의 **즉각적인 입력 값**과, 그 값으로 인해 발생하는 **무거운 렌더링**을 분리
* 입력 지연 없이 타이핑은 부드럽게 유지하고, 결과 렌더링은 약간 늦춰서 처리

---

### 파일 경로: `src/App.js`

```javascript
import React, { useMemo, useState, useDeferredValue } from 'react';

// 무거운 렌더링을 흉내 내기 위한 컴포넌트
function SlowList({ query }) {
  // query가 바뀔 때마다 많은 연산을 수행한다고 가정
  const items = useMemo(() => {
    const list = [];
    for (let i = 0; i < 5000; i++) {
      const label = `아이템 ${i}`;
      if (label.includes(query)) list.push(label);
    }
    return list;
  }, [query]);

  return (
    <ul>
      {items.map((it) => (
        <li key={it}>{it}</li>
      ))}
    </ul>
  );
}

export default function App() {
  const [text, setText] = useState('');

  // 입력값 자체는 즉시 반영
  const immediateText = text;

  // 무거운 렌더링에 사용하는 값은 지연시킴
  const deferredText = useDeferredValue(text);

  const onChange = (e) => setText(e.target.value);

  return (
    <div style={{ padding: 20 }}>
      <h1>useDeferredValue – 값 업데이트 지연</h1>

      <input
        type="text"
        value={immediateText}
        onChange={onChange}
        placeholder="검색어 입력"
      />

      <p>
        즉시 값: <strong>{immediateText}</strong>
      </p>
      <p>
        지연 값(렌더링에 사용): <strong>{deferredText}</strong>
      </p>

      {/* 무거운 목록은 지연된 값으로 필터링 → 타이핑이 부드러움 */}
      <SlowList query={deferredText} />
    </div>
  );
}
```

---

### 코드 설명

1. **핵심 아이디어**

   * `text`는 입력창에 즉시 반영 → 사용감 부드러움
   * `deferredText = useDeferredValue(text)`를 무거운 컴포넌트에 전달 → 렌더링을 살짝 늦춤

2. **`useDeferredValue`와 `useTransition` 비교**

   * `useTransition`: “작업”을 늦춘다. `startTransition(() => setState(...))`처럼 **업데이트 자체**를 전환으로 감쌈
   * `useDeferredValue`: “값”을 늦춘다. **지연된 값**을 무거운 렌더링에만 사용

3. **언제 쓰나**

   * 대량 리스트 필터링/검색
   * 그래프/차트 재계산
   * 긴 포맷팅·파싱 로직이 입력에 종속될 때

4. **주의점**

   * 지연된 값은 최신 입력을 한 박자 늦게 반영하므로, 입력창과 결과가 잠깐 **불일치**할 수 있음(의도된 동작)

---

다음은 **27번 `useSyncExternalStore` – 외부 스토어 구독** 예제로 이어가겠습니다. 계속 진행할게요.
