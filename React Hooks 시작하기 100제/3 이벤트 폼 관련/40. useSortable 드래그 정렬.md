좋습니다.
그럼 **React Hooks 시작하기 100제 – 40번 `useOnlineStatus` (온라인/오프라인 상태 감지)** 예제로 넘어가겠습니다.

---

## 40. `useOnlineStatus` – 온라인/오프라인 상태 감지

### 목적

* 사용자의 네트워크 연결 상태(`navigator.onLine`)를 추적
* 연결 끊김 시 경고 표시, 데이터 동기화 지연 등 처리 가능

---

### 파일 경로: `src/hooks/useOnlineStatus.js`

```javascript
import { useEffect, useState } from 'react';

/**
 * useOnlineStatus
 * @returns {boolean} 온라인 여부
 */
export default function useOnlineStatus() {
  const [isOnline, setIsOnline] = useState(
    typeof navigator !== 'undefined' ? navigator.onLine : true
  );

  useEffect(() => {
    const handleOnline = () => setIsOnline(true);
    const handleOffline = () => setIsOnline(false);

    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);

    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);

  return isOnline;
}
```

---

### 사용 예시

**파일 경로:** `src/App.js`

```javascript
import React from 'react';
import useOnlineStatus from './hooks/useOnlineStatus';

export default function App() {
  const isOnline = useOnlineStatus();

  return (
    <div style={{ padding: 20 }}>
      <h1>useOnlineStatus – 온라인/오프라인 상태 감지</h1>
      <p>
        현재 상태:{" "}
        <strong style={{ color: isOnline ? 'green' : 'red' }}>
          {isOnline ? '온라인' : '오프라인'}
        </strong>
      </p>

      {!isOnline && (
        <div
          style={{
            marginTop: 10,
            padding: 10,
            background: '#ffe6e6',
            border: '1px solid red',
            borderRadius: 8
          }}
        >
          네트워크 연결이 끊어졌습니다. 인터넷을 확인해주세요.
        </div>
      )}
    </div>
  );
}
```

---

### 코드 설명

1. **`navigator.onLine`**

   * 현재 브라우저가 온라인인지 여부 반환
   * 단, 이 값은 네트워크 연결 상태를 단순히 추정하는 것이므로 100% 정확하지 않을 수 있음.

2. **이벤트 감지**

   ```javascript
   window.addEventListener('online', handleOnline);
   window.addEventListener('offline', handleOffline);
   ```

   * 연결/끊김 시 즉시 상태 반영

3. **활용 예**

   * 오프라인 모드 지원
   * 연결 상태에 따른 동기화/자동저장 제어
   * PWA 앱 네트워크 상태 표시

---

다음은 **41번 `useDarkMode` – 다크모드 감지 및 토글** 예제로 넘어가겠습니다.
진행할까요?
