좋습니다.
그럼 **React Hooks 시작하기 100제 – 32번 `useFetch` (데이터 가져오기)** 예제로 넘어가겠습니다.

---

## 32. `useFetch` – 데이터 가져오기

### 목적

* fetch 로직을 커스텀 훅으로 만들어 **API 호출 로직 재사용**
* 로딩 상태, 에러 상태, 데이터 상태를 한 번에 관리

---

### 파일 경로: `src/hooks/useFetch.js`

```javascript
import { useState, useEffect } from 'react';

/**
 * useFetch
 * @param {string} url API 요청 URL
 * @returns {object} { data, loading, error }
 */
export default function useFetch(url) {
  const [data, setData] = useState(null);   // 응답 데이터
  const [loading, setLoading] = useState(true); // 로딩 여부
  const [error, setError] = useState(null); // 에러 정보

  useEffect(() => {
    if (!url) return; // URL 없으면 실행 안 함

    let isMounted = true; // 컴포넌트 언마운트 여부 체크

    const fetchData = async () => {
      setLoading(true);
      setError(null);
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('네트워크 응답 오류');
        const json = await res.json();
        if (isMounted) setData(json);
      } catch (err) {
        if (isMounted) setError(err);
      } finally {
        if (isMounted) setLoading(false);
      }
    };

    fetchData();

    // 언마운트 시 실행
    return () => {
      isMounted = false;
    };
  }, [url]);

  return { data, loading, error };
}
```

---

### 사용 예시

**파일 경로:** `src/App.js`

```javascript
import React from 'react';
import useFetch from './hooks/useFetch';

export default function App() {
  const { data, loading, error } = useFetch(
    'https://jsonplaceholder.typicode.com/posts?_limit=5'
  );

  if (loading) return <p>로딩 중...</p>;
  if (error) return <p>에러 발생: {error.message}</p>;

  return (
    <div style={{ padding: 20 }}>
      <h1>useFetch – 데이터 가져오기</h1>
      <ul>
        {data.map((post) => (
          <li key={post.id}>
            <strong>{post.title}</strong>
          </li>
        ))}
      </ul>
    </div>
  );
}
```

---

### 코드 설명

1. **`useFetch` 커스텀 훅**

   * 데이터 가져오기 + 로딩/에러 관리까지 한 번에 처리
   * URL만 바꾸면 재사용 가능

2. **`isMounted` 플래그**

   * 컴포넌트 언마운트 후 `setState` 호출 방지
   * 비동기 요청이 완료되기 전에 컴포넌트가 사라지는 경우 에러 예방

3. **활용 예**

   * 대시보드, 리스트 페이지, 초기 데이터 로딩
   * 검색 자동완성, 페이지네이션 API

---

다음은 **33번 `useForm` – 폼 상태 관리** 예제로 넘어가겠습니다.
바로 이어서 진행할까요?
