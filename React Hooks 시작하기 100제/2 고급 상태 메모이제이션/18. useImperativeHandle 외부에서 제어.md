좋습니다.
그럼 **React Hooks 시작하기 100제 – 18번 `useMemo` (무거운 연산 최적화: 필터/정렬 실전)** 예제로 넘어가겠습니다.

---

## 18. `useMemo` – 무거운 연산 최적화 (필터/정렬 실전)

### 목적

* 대량 데이터 목록에서 필터링·정렬 같은 무거운 연산을 최적화
* 불필요한 연산을 줄여 렌더링 성능 향상

---

### 파일 경로: `src/App.js`

```javascript
import React, { useState, useMemo } from 'react';

// 더미 데이터 생성 함수
function generateUsers() {
  const list = [];
  for (let i = 1; i <= 5000; i++) {
    list.push({
      id: i,
      name: `User ${i}`,
      age: Math.floor(Math.random() * 60) + 20,
    });
  }
  return list;
}

export default function App() {
  const [users] = useState(generateUsers);
  const [search, setSearch] = useState('');
  const [sortAsc, setSortAsc] = useState(true);

  // useMemo로 필터링 + 정렬 최적화
  const filteredAndSorted = useMemo(() => {
    console.log('필터링 & 정렬 연산 실행');
    let result = users;

    // 검색어 필터
    if (search.trim() !== '') {
      result = result.filter((u) =>
        u.name.toLowerCase().includes(search.toLowerCase())
      );
    }

    // 나이 기준 정렬
    result = [...result].sort((a, b) =>
      sortAsc ? a.age - b.age : b.age - a.age
    );

    return result;
  }, [users, search, sortAsc]);

  return (
    <div style={{ padding: 20 }}>
      <h1>useMemo – 필터 & 정렬 최적화</h1>

      {/* 검색 입력 */}
      <input
        type="text"
        value={search}
        placeholder="이름 검색"
        onChange={(e) => setSearch(e.target.value)}
      />

      {/* 정렬 토글 */}
      <button onClick={() => setSortAsc((prev) => !prev)}>
        나이 정렬: {sortAsc ? '오름차순' : '내림차순'}
      </button>

      {/* 목록 표시 */}
      <ul>
        {filteredAndSorted.map((u) => (
          <li key={u.id}>
            {u.name} – {u.age}세
          </li>
        ))}
      </ul>
    </div>
  );
}
```

---

### 코드 설명

1. **useMemo 활용 포인트**

   ```javascript
   const filteredAndSorted = useMemo(() => { ... }, [users, search, sortAsc]);
   ```

   * `users`, `search`, `sortAsc`가 바뀔 때만 필터/정렬 연산 실행
   * 다른 state 변경 시엔 이전 결과 재사용 → 성능 최적화

2. **대량 데이터에서 중요**

   * 필터와 정렬을 매 렌더링마다 실행하면 UI 렉 발생 가능
   * 특히 데이터가 수천 건 이상일 때 필수

3. **정렬 시 불변성 유지**

   * `sort`는 원본 배열을 변경하므로, `[...result]`로 복사 후 정렬

---

다음은 **19번 `useRef` – DOM 요소 접근** 예제로 넘어가겠습니다.
바로 진행할까요?
