좋습니다.
그럼 **React Hooks 시작하기 100제 – 77번 `useEventListener` (이벤트 리스너 관리)** 예제로 넘어가겠습니다.

---

## 77. `useEventListener` – 이벤트 리스너 관리

### 목적

* `addEventListener`와 `removeEventListener`를 React에서 안전하게 관리
* **최신 콜백 유지**, **언마운트 시 자동 제거**
* DOM 요소, `window`, `document` 모두 대응

---

### 파일 경로: `src/hooks/useEventListener.js`

```javascript
import { useEffect, useRef } from 'react';

/**
 * useEventListener
 * @param {string} eventName - 이벤트 이름 (예: 'click', 'keydown')
 * @param {Function} handler - 이벤트 발생 시 실행할 함수
 * @param {EventTarget|React.RefObject} element - 대상 요소 (기본: window)
 * @param {object} options - addEventListener 옵션
 */
export default function useEventListener(eventName, handler, element = window, options) {
  const savedHandler = useRef(handler);

  // 최신 handler 참조 유지
  useEffect(() => {
    savedHandler.current = handler;
  }, [handler]);

  useEffect(() => {
    const targetElement = element?.current || element;
    if (!(targetElement && targetElement.addEventListener)) return;

    const eventListener = (event) => savedHandler.current(event);
    targetElement.addEventListener(eventName, eventListener, options);

    return () => {
      targetElement.removeEventListener(eventName, eventListener, options);
    };
  }, [eventName, element, options]);
}
```

---

### 사용 예시 – 윈도우 리사이즈 감지

**파일 경로:** `src/App.js`

```javascript
import React, { useState } from 'react';
import useEventListener from './hooks/useEventListener';

export default function App() {
  const [size, setSize] = useState({ width: window.innerWidth, height: window.innerHeight });

  useEventListener('resize', () => {
    setSize({ width: window.innerWidth, height: window.innerHeight });
  });

  return (
    <div style={{ padding: 24 }}>
      <h1>useEventListener – 이벤트 리스너 관리</h1>
      <p>현재 화면 크기: {size.width} x {size.height}</p>
    </div>
  );
}
```

---

### 구현 포인트

* `element`에 **DOM 객체**나 **Ref** 모두 사용 가능
* `options`로 `{ passive: true }` 같은 고급 옵션 전달 가능
* 이벤트 리스너가 항상 최신 상태를 참조하도록 `useRef`로 래핑

---

다음은 **78번 `useOnClickOutside` – 외부 클릭 감지** 예제로 진행하겠습니다.
바로 넘어갈까요?
