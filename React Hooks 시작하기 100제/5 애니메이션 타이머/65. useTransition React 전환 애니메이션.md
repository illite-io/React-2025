좋습니다.
그럼 **React Hooks 시작하기 100제 – 65번 `useThrottle` (쓰로틀링)** 예제로 넘어가겠습니다.

---

## 65. `useThrottle` – 쓰로틀링

### 목적

* 특정 동작이 너무 자주 발생하는 것을 제한
* 스크롤 이벤트, 윈도우 리사이즈, 마우스 이동 등 **빈도 높은 이벤트 최적화**에 사용

---

### 파일 경로: `src/hooks/useThrottle.js`

```javascript
import { useEffect, useRef, useState } from 'react';

/**
 * useThrottle
 * @param {any} value - 쓰로틀링할 값
 * @param {number} limit - 업데이트 간 최소 간격(ms)
 * @returns {any} - 제한된 빈도로 업데이트되는 값
 */
export default function useThrottle(value, limit = 500) {
  const [throttledValue, setThrottledValue] = useState(value);
  const lastRan = useRef(Date.now());

  useEffect(() => {
    const handler = setTimeout(() => {
      if (Date.now() - lastRan.current >= limit) {
        setThrottledValue(value);
        lastRan.current = Date.now();
      }
    }, limit - (Date.now() - lastRan.current));

    return () => {
      clearTimeout(handler);
    };
  }, [value, limit]);

  return throttledValue;
}
```

---

### 사용 예시 – 스크롤 위치 추적 최적화

**파일 경로:** `src/App.js`

```javascript
import React, { useState, useEffect } from 'react';
import useThrottle from './hooks/useThrottle';

export default function App() {
  const [scrollY, setScrollY] = useState(window.scrollY);
  const throttledScrollY = useThrottle(scrollY, 300);

  useEffect(() => {
    const onScroll = () => {
      setScrollY(window.scrollY);
    };
    window.addEventListener('scroll', onScroll);
    return () => window.removeEventListener('scroll', onScroll);
  }, []);

  return (
    <div style={{ height: '200vh', padding: 24 }}>
      <h1>useThrottle – 쓰로틀링</h1>
      <p>실시간 스크롤 값: {scrollY}</p>
      <p>쓰로틀링 적용 값: {throttledScrollY}</p>
    </div>
  );
}
```

---

### 구현 포인트

* `limit` 값보다 짧은 간격의 변경은 무시
* 스크롤, 리사이즈 같은 연속 이벤트에 최적화
* `useDebounce`와 달리 **연속 이벤트 중에도 일정 주기로 실행**됨
* 과도한 렌더링 방지로 성능 최적화 가능

---

다음은 **66번 `useWindowSize` – 윈도우 크기 추적** 예제로 진행하겠습니다.
바로 이어갈까요?
