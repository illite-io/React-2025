좋습니다.
그럼 **React Hooks 시작하기 100제 – 69번 `useEventListener` (안전한 이벤트 리스너)** 예제로 넘어가겠습니다.

---

## 69. `useEventListener` – 안전한 이벤트 리스너

### 목적

* `addEventListener` / `removeEventListener`를 반복 작성하지 않고 재사용
* 이벤트 리스너 콜백이 최신 상태를 유지하도록 보장
* 윈도우, 문서, DOM 요소 등 다양한 타겟 지원

---

### 파일 경로: `src/hooks/useEventListener.js`

```javascript
import { useEffect, useRef } from 'react';

/**
 * useEventListener
 * @param {string} eventName - 이벤트 이름 (예: 'click')
 * @param {Function} handler - 이벤트 핸들러
 * @param {EventTarget} [element=window] - 대상 요소 (기본 window)
 * @param {Object} [options] - addEventListener 옵션
 */
export default function useEventListener(eventName, handler, element = window, options) {
  const savedHandler = useRef(handler);

  // 항상 최신 handler를 참조하도록 업데이트
  useEffect(() => {
    savedHandler.current = handler;
  }, [handler]);

  useEffect(() => {
    if (!(element && element.addEventListener)) return;

    const eventListener = (event) => savedHandler.current(event);

    element.addEventListener(eventName, eventListener, options);
    return () => {
      element.removeEventListener(eventName, eventListener, options);
    };
  }, [eventName, element, options]);
}
```

---

### 사용 예시 – 키보드 이벤트

**파일 경로:** `src/App.js`

```javascript
import React, { useState } from 'react';
import useEventListener from './hooks/useEventListener';

export default function App() {
  const [key, setKey] = useState('');

  // 키보드 눌림 이벤트
  useEventListener('keydown', (e) => {
    setKey(e.key);
  });

  return (
    <div style={{ padding: 24 }}>
      <h1>useEventListener – 안전한 이벤트 리스너</h1>
      <p>마지막으로 누른 키: <strong>{key}</strong></p>
      <p>아무 키나 눌러보세요.</p>
    </div>
  );
}
```

---

### 구현 포인트

* `savedHandler`를 사용해 이벤트 리스너가 항상 최신 상태값을 참조하도록 보장
* 기본 대상은 `window`지만, DOM 요소나 `document`도 지정 가능

  ```js
  const ref = useRef();
  useEventListener('click', handler, ref.current);
  ```
* 정리 함수에서 `removeEventListener`로 메모리 누수 방지
* `options`로 `{ passive: true }`, `{ once: true }` 같은 브라우저 옵션을 전달 가능

---

다음은 **70번 `useHover` – 마우스 오버 상태 감지** 예제로 진행할까요?
