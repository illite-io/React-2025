좋습니다. 이제 **8번 – useEffect 의존성 배열 사용** 예제로 넘어가겠습니다.

---

## 8. useEffect 의존성 배열 사용

### 파일 경로 / 파일명

```
src/App.js
```

### 예시 코드

```javascript
import React, { useState, useEffect } from 'react';

function App() {
  const [count, setCount] = useState(0);
  const [text, setText] = useState("");

  // count 값이 바뀔 때마다 실행
  useEffect(() => {
    console.log(`count가 변경되었습니다: ${count}`);
  }, [count]); // count가 바뀔 때만 실행

  // text 값이 바뀔 때마다 실행
  useEffect(() => {
    console.log(`text가 변경되었습니다: ${text}`);
  }, [text]); // text가 바뀔 때만 실행

  return (
    <div>
      <h1>useEffect 의존성 배열 사용</h1>

      <p>count: {count}</p>
      <button onClick={() => setCount(count + 1)}>+1</button>

      <br /><br />

      <input
        type="text"
        value={text}
        onChange={(e) => setText(e.target.value)}
        placeholder="텍스트 입력"
      />
    </div>
  );
}

export default App;
```

---

### 코드 설명

1. **의존성 배열(dependency array)**

   ```javascript
   useEffect(() => {
     // 실행 코드
   }, [state1, state2]);
   ```

   * 배열 안에 넣은 값(state/props)이 바뀔 때마다 실행됨
   * `[]` → 마운트 시 한 번만 실행
   * `[count]` → count가 바뀔 때만 실행
   * `[text]` → text가 바뀔 때만 실행

2. **두 개의 useEffect 분리 이유**

   * 관심사 분리(Separation of Concerns)
   * `count` 관련 로직과 `text` 관련 로직을 따로 관리 가능

---

### 실행 흐름

1. 페이지 로드 시: 둘 다 아직 실행 안 됨 (빈 배열이 아님)
2. `+1` 버튼 클릭 시 → `count` 변경 → `count` 전용 useEffect 실행
3. input에 값 입력 시 → `text` 변경 → `text` 전용 useEffect 실행

---

다음은 **9번 – useEffect 마운트/언마운트 시 실행** 예제로 넘어갈까요?
