좋습니다. 이제 마지막 **100번 – useMultiStepForm 다단계 폼 관리** 예제를 보겠습니다.

---

## 100. useMultiStepForm 다단계 폼 관리

### 목표

* 여러 단계를 가진 폼(회원가입, 주문, 결제 등) 상태 관리
* 현재 단계, 다음/이전 이동, 완료 여부 제어
* 각 단계별 검증 가능

---

### 파일 경로 / 파일명

```
src/hooks/useMultiStepForm.js
src/App.js
```

---

### 1) 커스텀 훅 – `useMultiStepForm.js`

```javascript
import { useCallback, useMemo, useState } from "react";

/**
 * useMultiStepForm(steps, options?)
 * - steps: ["account", "profile", "confirm"] 와 같은 단계 배열
 * - options: { initialStep = 0 }
 *
 * 반환:
 * {
 *   step,          // 현재 단계 인덱스
 *   current,       // 현재 단계 키
 *   steps,         // 전체 단계 목록
 *   isFirst, isLast,
 *   next(), back(), go(i),
 *   reset(), done,
 * }
 */
export default function useMultiStepForm(steps, options = {}) {
  const { initialStep = 0 } = options;
  const [step, setStep] = useState(initialStep);
  const [done, setDone] = useState(false);

  const isFirst = step === 0;
  const isLast = step === steps.length - 1;

  const current = useMemo(() => steps[step], [step, steps]);

  const next = useCallback(() => {
    setStep((s) => {
      if (s < steps.length - 1) return s + 1;
      setDone(true);
      return s;
    });
  }, [steps]);

  const back = useCallback(() => {
    setStep((s) => (s > 0 ? s - 1 : s));
  }, []);

  const go = useCallback((i) => {
    if (i >= 0 && i < steps.length) setStep(i);
  }, [steps]);

  const reset = useCallback(() => {
    setStep(initialStep);
    setDone(false);
  }, [initialStep]);

  return {
    step, current, steps,
    isFirst, isLast,
    next, back, go,
    reset, done,
  };
}
```

---

### 2) 사용 예제 – `App.js`

```javascript
import React, { useState } from "react";
import useMultiStepForm from "./hooks/useMultiStepForm";

export default function App() {
  const steps = ["계정", "프로필", "확인"];
  const { step, current, steps: allSteps, isFirst, isLast, next, back, go, reset, done } =
    useMultiStepForm(steps);

  const [form, setForm] = useState({
    username: "",
    email: "",
    bio: "",
  });

  const handleNext = () => {
    if (isLast) {
      alert("폼 제출: " + JSON.stringify(form, null, 2));
    }
    next();
  };

  return (
    <div style={{ padding: 20, maxWidth: 480, margin: "0 auto" }}>
      <h1>useMultiStepForm 다단계 폼 관리</h1>

      {/* 단계 표시 */}
      <ol style={{ display: "flex", gap: 10, marginBottom: 20 }}>
        {allSteps.map((s, i) => (
          <li key={s}
              style={{
                listStyle: "none",
                padding: "4px 10px",
                borderRadius: 6,
                background: i === step ? "#2563eb" : "#e5e7eb",
                color: i === step ? "white" : "#111827",
                cursor: "pointer",
              }}
              onClick={() => go(i)}
          >
            {s}
          </li>
        ))}
      </ol>

      {/* 단계별 UI */}
      {current === "계정" && (
        <div>
          <input
            placeholder="아이디"
            value={form.username}
            onChange={(e) => setForm({ ...form, username: e.target.value })}
            style={{ display: "block", marginBottom: 8, padding: 6, width: "100%" }}
          />
          <input
            placeholder="이메일"
            value={form.email}
            onChange={(e) => setForm({ ...form, email: e.target.value })}
            style={{ display: "block", marginBottom: 8, padding: 6, width: "100%" }}
          />
        </div>
      )}

      {current === "프로필" && (
        <div>
          <textarea
            placeholder="소개"
            value={form.bio}
            onChange={(e) => setForm({ ...form, bio: e.target.value })}
            style={{ display: "block", width: "100%", height: 100, padding: 6 }}
          />
        </div>
      )}

      {current === "확인" && (
        <div style={{ background: "#f9fafb", padding: 12, borderRadius: 6 }}>
          <p><strong>아이디:</strong> {form.username}</p>
          <p><strong>이메일:</strong> {form.email}</p>
          <p><strong>소개:</strong> {form.bio}</p>
        </div>
      )}

      <div style={{ marginTop: 20, display: "flex", gap: 8 }}>
        {!isFirst && <button onClick={back}>이전</button>}
        <button onClick={handleNext}>{isLast ? "제출" : "다음"}</button>
        <button onClick={reset}>리셋</button>
      </div>

      {done && <p style={{ marginTop: 16, color: "#16a34a" }}>폼이 완료되었습니다!</p>}
    </div>
  );
}
```

---

### 동작 방식

1. `steps` 배열에 따라 현재 단계(`current`)를 관리
2. `next`, `back`, `go`로 단계 이동
3. `done` 상태로 완료 여부 표시
4. 각 단계별 입력을 하나의 `form` state에 누적 관리

---

### 활용 아이디어

* 회원가입(계정 → 프로필 → 확인 → 완료)
* 장바구니 → 배송지 → 결제 → 완료
* 설문조사 다단계 UI

---

이제 React Hooks 100제가 모두 끝났습니다.
원하시면 제가 **전체 목차 + 각 예제 요약 정리본**을 만들어드릴 수도 있습니다. 정리본을 드릴까요?
