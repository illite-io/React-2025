좋습니다. 이제 **70번 – useProgress 진행률 표시** 예제를 보겠습니다.

---

## 70. useProgress 진행률 표시

### 목표

* 어떤 작업이든 **진행률(%) 상태**를 관리하는 범용 Hook
* 시작 → 증가 → 완료 흐름 관리
* 자동 증가 시뮬레이션(로딩바) 또는 수동 업데이트 모두 지원

---

### 파일 경로 / 파일명

```
src/hooks/useProgress.js
src/App.js
```

---

### 1) 커스텀 훅 – `useProgress.js`

```javascript
import { useState, useCallback } from "react";

/**
 * useProgress()
 * 반환:
 * { progress, start, set, done, reset }
 */
export default function useProgress() {
  const [progress, setProgress] = useState(0);

  const start = useCallback(() => setProgress(0), []);
  const set = useCallback((value) => {
    setProgress(Math.min(100, Math.max(0, value)));
  }, []);
  const done = useCallback(() => setProgress(100), []);
  const reset = useCallback(() => setProgress(0), []);

  return { progress, start, set, done, reset };
}
```

---

### 2) 사용 예제 – `App.js`

```javascript
import React, { useEffect } from "react";
import useProgress from "./hooks/useProgress";

export default function App() {
  const { progress, start, set, done, reset } = useProgress();

  // 자동 증가 시뮬레이션 (로딩바)
  useEffect(() => {
    let timer;
    if (progress > 0 && progress < 100) {
      timer = setInterval(() => {
        set(progress + 5);
      }, 300);
    }
    return () => clearInterval(timer);
  }, [progress, set]);

  return (
    <div style={{ padding: 20 }}>
      <h1>useProgress 진행률 표시</h1>
      <div
        style={{
          width: 300,
          height: 10,
          background: "#e5e7eb",
          borderRadius: 5,
          overflow: "hidden",
          marginBottom: 10,
        }}
      >
        <div
          style={{
            width: `${progress}%`,
            height: "100%",
            background: "#2563eb",
            transition: "width 0.3s",
          }}
        />
      </div>
      <p>현재 진행률: {progress}%</p>

      <button onClick={start}>시작(0%)</button>
      <button onClick={() => set(progress + 20)}>+20%</button>
      <button onClick={done}>완료(100%)</button>
      <button onClick={reset}>리셋</button>
    </div>
  );
}
```

---

### 동작 방식

1. `start()` → 0%로 초기화
2. `set(value)` → 특정 값으로 변경 (0\~100 사이 자동 보정)
3. `done()` → 100% 완료
4. `reset()` → 다시 0%

---

### 활용 아이디어

* 파일 업로드/다운로드 진행률 UI
* API 요청 로딩 시 fake-progress (점진적 증가 후 완료 시 100%)
* 게임 로딩 화면, 설문 진행도, 작업 완료 퍼센트 표시

---

이제 **71번 – useDarkMode 다크 모드 토글** 예제로 넘어가시겠습니까?
