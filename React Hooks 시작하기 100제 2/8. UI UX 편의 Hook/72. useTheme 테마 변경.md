좋습니다. 이번에는 **72번 – useTheme 테마 변경** 예제를 보겠습니다.

---

## 72. useTheme 테마 변경

### 목표

* 여러 개의 테마(light, dark, custom 등)를 지원
* 현재 테마 상태를 전역으로 관리 (Context 기반)
* 컴포넌트에서 쉽게 테마 전환 가능

---

### 파일 경로 / 파일명

```
src/hooks/useTheme.js
src/ThemeProvider.js
src/App.js
```

---

### 1) `useTheme.js`

```javascript
import { useContext, createContext, useState, useCallback } from "react";

const ThemeContext = createContext();

/**
 * ThemeProvider로 감싸야 사용 가능
 */
export function ThemeProvider({ themes = ["light", "dark"], initial = "light", children }) {
  const [theme, setTheme] = useState(initial);

  const toggleTheme = useCallback(() => {
    const idx = themes.indexOf(theme);
    const next = themes[(idx + 1) % themes.length];
    setTheme(next);
  }, [theme, themes]);

  const value = { theme, setTheme, toggleTheme, themes };

  return <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>;
}

export default function useTheme() {
  return useContext(ThemeContext);
}
```

---

### 2) `ThemeProvider.js`

```javascript
import React from "react";
import { ThemeProvider } from "./hooks/useTheme";

export default function AppThemeProvider({ children }) {
  return (
    <ThemeProvider themes={["light", "dark", "solarized"]} initial="light">
      {children}
    </ThemeProvider>
  );
}
```

---

### 3) `App.js`

```javascript
import React from "react";
import AppThemeProvider from "./ThemeProvider";
import useTheme from "./hooks/useTheme";

function ThemedBox() {
  const { theme, toggleTheme, setTheme, themes } = useTheme();

  const styles = {
    light: { background: "#ffffff", color: "#111827" },
    dark: { background: "#111827", color: "#e5e7eb" },
    solarized: { background: "#fdf6e3", color: "#657b83" },
  };

  return (
    <div style={{ ...styles[theme], padding: 20, borderRadius: 10 }}>
      <h2>현재 테마: {theme}</h2>
      <div style={{ marginTop: 10 }}>
        <button onClick={toggleTheme}>다음 테마로</button>
        {themes.map((t) => (
          <button key={t} onClick={() => setTheme(t)} style={{ marginLeft: 6 }}>
            {t}
          </button>
        ))}
      </div>
    </div>
  );
}

export default function App() {
  return (
    <AppThemeProvider>
      <div style={{ padding: 20 }}>
        <h1>useTheme 테마 변경</h1>
        <ThemedBox />
      </div>
    </AppThemeProvider>
  );
}
```

---

### 동작 방식

1. `ThemeProvider`에서 현재 테마 상태(`theme`)를 Context로 제공
2. `useTheme()` 훅으로 어디서든 `theme, setTheme, toggleTheme` 사용 가능
3. UI 스타일을 `theme` 값에 따라 변경

---

### 활용 아이디어

* 다크/라이트 외에도 브랜드별 테마 추가
* Tailwind `className`에 `theme-light`, `theme-dark` 같은 전역 클래스 적용
* 사용자 선택 테마를 `localStorage`에 저장해 새로고침해도 유지

---

다음은 **73번 – useModal 모달 상태 관리** 예제로 넘어가시겠습니까?
