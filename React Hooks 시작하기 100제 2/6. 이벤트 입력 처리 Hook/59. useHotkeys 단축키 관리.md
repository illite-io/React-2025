좋습니다. 이제 **59번 – useHotkeys 단축키 관리** 예제를 보겠습니다.

---

## 59. useHotkeys 단축키 관리

### 목표

* 특정 키 조합(예: `Ctrl + S`, `Alt + Enter`)을 감지해 동작 실행
* 키 이벤트(`keydown`) 리스너 등록 및 해제
* 단일 키/조합키 모두 지원

---

### 파일 경로 / 파일명

```
src/hooks/useHotkeys.js
src/App.js
```

---

### 1) 커스텀 훅 – `useHotkeys.js`

```javascript
import { useEffect } from "react";

/**
 * useHotkeys
 * @param {string[]} keys - 예: ["ctrl", "s"], ["alt", "enter"]
 * @param {Function} callback - 단축키 입력 시 실행할 함수
 * @param {boolean} enabled - 활성화 여부 (기본 true)
 */
export default function useHotkeys(keys, callback, enabled = true) {
  useEffect(() => {
    if (!enabled) return;

    const handler = (e) => {
      const pressed = [];
      if (e.ctrlKey) pressed.push("ctrl");
      if (e.altKey) pressed.push("alt");
      if (e.shiftKey) pressed.push("shift");
      if (e.metaKey) pressed.push("meta"); // Mac ⌘
      pressed.push(e.key.toLowerCase());

      const normalized = keys.map((k) => k.toLowerCase()).sort().join("+");
      const current = pressed.sort().join("+");

      if (normalized === current) {
        e.preventDefault();
        callback(e);
      }
    };

    window.addEventListener("keydown", handler);
    return () => window.removeEventListener("keydown", handler);
  }, [keys, callback, enabled]);
}
```

---

### 2) 사용 예제 – `App.js`

```javascript
import React, { useState } from "react";
import useHotkeys from "./hooks/useHotkeys";

export default function App() {
  const [log, setLog] = useState([]);

  // Ctrl + S 단축키
  useHotkeys(["ctrl", "s"], () => {
    setLog((prev) => ["저장 단축키 실행 (Ctrl+S)", ...prev]);
  });

  // Alt + Enter 단축키
  useHotkeys(["alt", "enter"], () => {
    setLog((prev) => ["Alt+Enter 실행", ...prev]);
  });

  return (
    <div style={{ padding: 20 }}>
      <h1>useHotkeys 단축키 관리</h1>
      <p>Ctrl+S 또는 Alt+Enter를 눌러보세요.</p>
      <ul>
        {log.map((item, i) => (
          <li key={i}>{item}</li>
        ))}
      </ul>
    </div>
  );
}
```

---

### 동작 방식

1. `useHotkeys(["ctrl","s"], callback)` 등록 → 키 조합 감지
2. 입력 시 현재 키 상태(`ctrlKey`, `altKey`, `shiftKey`, `metaKey` + 실제 key)를 비교
3. 일치하면 `callback` 실행 후 `preventDefault`로 브라우저 기본 동작 차단 가능

---

### 활용 아이디어

* **저장 단축키 (Ctrl+S)**: 브라우저 기본 저장 대신 API 호출
* **검색창 포커스 (Ctrl+K)**: 검색 입력창으로 커서 이동
* **모달 열기/닫기 (ESC)**: 단축키로 UI 제어

---

다음은 **60번 – useMousePosition 마우스 위치 추적** 예제로 넘어가시겠습니까?
