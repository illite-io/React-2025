좋습니다. 이제 **57번 – useTouch 터치 이벤트 감지** 예제를 보겠습니다.

---

## 57. useTouch 터치 이벤트 감지

### 목표

* 모바일/터치 환경에서 **터치 시작, 이동, 종료 이벤트**를 감지
* 터치 위치(x, y)와 제스처 방향(왼쪽/오른쪽/위/아래)까지 감지 가능

---

### 파일 경로 / 파일명

```
src/hooks/useTouch.js
src/App.js
```

---

### 1) 커스텀 훅 – `useTouch.js`

```javascript
import { useState, useRef } from "react";

/**
 * useTouch 훅
 * - 터치 시작/이동/종료 상태 추적
 * - 터치 위치와 방향을 계산
 */
export default function useTouch() {
  const [touchInfo, setTouchInfo] = useState({
    startX: 0,
    startY: 0,
    endX: 0,
    endY: 0,
    direction: null, // 'left' | 'right' | 'up' | 'down'
  });

  const ref = useRef(null);

  const onTouchStart = (e) => {
    const touch = e.touches[0];
    setTouchInfo({
      startX: touch.clientX,
      startY: touch.clientY,
      endX: touch.clientX,
      endY: touch.clientY,
      direction: null,
    });
  };

  const onTouchMove = (e) => {
    const touch = e.touches[0];
    const { startX, startY } = touchInfo;
    const diffX = touch.clientX - startX;
    const diffY = touch.clientY - startY;

    let direction = null;
    if (Math.abs(diffX) > Math.abs(diffY)) {
      direction = diffX > 0 ? "right" : "left";
    } else {
      direction = diffY > 0 ? "down" : "up";
    }

    setTouchInfo((prev) => ({
      ...prev,
      endX: touch.clientX,
      endY: touch.clientY,
      direction,
    }));
  };

  const onTouchEnd = () => {
    // 터치 종료 시 유지
  };

  return { ref, touchInfo, onTouchStart, onTouchMove, onTouchEnd };
}
```

---

### 2) 사용 예제 – `App.js`

```javascript
import React from "react";
import useTouch from "./hooks/useTouch";

export default function App() {
  const { ref, touchInfo, onTouchStart, onTouchMove, onTouchEnd } = useTouch();

  return (
    <div style={{ padding: 20 }}>
      <h1>useTouch 터치 이벤트 감지</h1>
      <div
        ref={ref}
        onTouchStart={onTouchStart}
        onTouchMove={onTouchMove}
        onTouchEnd={onTouchEnd}
        style={{
          width: 300,
          height: 300,
          background: "#e0f2fe",
          border: "2px solid #38bdf8",
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          userSelect: "none",
        }}
      >
        터치 영역
      </div>

      <div style={{ marginTop: 20 }}>
        <p>시작 위치: ({touchInfo.startX}, {touchInfo.startY})</p>
        <p>현재 위치: ({touchInfo.endX}, {touchInfo.endY})</p>
        <p>방향: {touchInfo.direction}</p>
      </div>
    </div>
  );
}
```

---

### 동작 방식

1. `onTouchStart` → 터치 시작 좌표 저장
2. `onTouchMove` → 이동 거리를 계산해 방향(left, right, up, down) 판단
3. `onTouchEnd` → 터치 종료 후 마지막 상태 유지

---

### 활용 아이디어

* **스와이프 제스처** (예: 왼쪽으로 넘기면 삭제, 오른쪽으로 넘기면 저장)
* **모바일 슬라이드 메뉴** (스와이프 시 메뉴 열기/닫기)
* **이미지 뷰어** (스와이프로 이전/다음 이동)

---

다음은 **58번 – useFocus 포커스 상태 관리** 예제로 넘어가시겠습니까?
