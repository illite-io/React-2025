ì¢‹ìŠµë‹ˆë‹¤. ì´ì œ **34ë²ˆ â€“ useLocalStorage ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ìƒíƒœ ì €ì¥** ì˜ˆì œë¥¼ ë³´ê² ìŠµë‹ˆë‹¤.

---

## 34. useLocalStorage ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ìƒíƒœ ì €ì¥

### í•µì‹¬ ê°œë…

* `useState`ì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ì§€ë§Œ, ê°’ì´ **localStorage**ì— ìë™ ì €ì¥/ë™ê¸°í™”ë¨
* ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ ì•±ì„ ê»ë‹¤ ì¼œë„ ê°’ì´ ìœ ì§€ë¨
* ë¸Œë¼ìš°ì € ë‚´ì—ì„œ ê°„ë‹¨í•œ ìºì‹œë‚˜ ì‚¬ìš©ì ì„¤ì • ì €ì¥ì— ì í•©

---

### íŒŒì¼ ê²½ë¡œ / íŒŒì¼ëª…

```
src/hooks/useLocalStorage.js
src/App.js
```

---

### 1) ì»¤ìŠ¤í…€ í›… â€“ `useLocalStorage.js`

```javascript
import { useState, useEffect } from 'react';

/**
 * useLocalStorage(key, initialValue)
 * - key: localStorageì— ì €ì¥ë  key ê°’
 * - initialValue: ê¸°ë³¸ê°’
 */
export default function useLocalStorage(key, initialValue) {
  // ì´ˆê¸°ê°’: localStorageì— ê°’ì´ ìˆìœ¼ë©´ ê·¸ê±¸ ì‚¬ìš©, ì—†ìœ¼ë©´ initialValue
  const [storedValue, setStoredValue] = useState(() => {
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch (error) {
      console.error("ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì½ê¸° ì˜¤ë¥˜:", error);
      return initialValue;
    }
  });

  // ê°’ì´ ë³€ê²½ë  ë•Œ localStorageì— ë™ê¸°í™”
  useEffect(() => {
    try {
      window.localStorage.setItem(key, JSON.stringify(storedValue));
    } catch (error) {
      console.error("ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì €ì¥ ì˜¤ë¥˜:", error);
    }
  }, [key, storedValue]);

  return [storedValue, setStoredValue];
}
```

---

### 2) ì‚¬ìš© ì˜ˆì œ â€“ `App.js`

```javascript
import React from 'react';
import useLocalStorage from './hooks/useLocalStorage';

export default function App() {
  const [name, setName] = useLocalStorage("username", "");
  const [darkMode, setDarkMode] = useLocalStorage("darkMode", false);

  return (
    <div style={{ padding: 20, background: darkMode ? "#333" : "#fff", color: darkMode ? "#fff" : "#000" }}>
      <h1>useLocalStorage ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ìƒíƒœ ì €ì¥</h1>

      <div>
        <label>ì´ë¦„ ì…ë ¥: </label>
        <input
          type="text"
          value={name}
          onChange={(e) => setName(e.target.value)}
        />
        <p>ì•ˆë…•í•˜ì„¸ìš”, {name || "ìµëª…"}ë‹˜!</p>
      </div>

      <div>
        <label>
          <input
            type="checkbox"
            checked={darkMode}
            onChange={() => setDarkMode(!darkMode)}
          />
          ë‹¤í¬ ëª¨ë“œ
        </label>
      </div>
    </div>
  );
}
```

---

### ì‹¤í–‰ íë¦„

1. `useLocalStorage("username", "")` â†’ localStorageì—ì„œ `"username"` ê°’ í™•ì¸

   * ìˆìœ¼ë©´ ê·¸ ê°’ ì‚¬ìš©, ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´("") ì‚¬ìš©
2. ì‚¬ìš©ìê°€ inputì— ì´ë¦„ ì…ë ¥ â†’ `setName` í˜¸ì¶œ â†’ ìƒíƒœ ì—…ë°ì´íŠ¸ + localStorage ë™ê¸°í™”
3. ë‹¤í¬ ëª¨ë“œ ì²´í¬ë°•ìŠ¤ í´ë¦­ â†’ `darkMode` ê°’ì´ `true/false`ë¡œ ë°”ë€Œê³  ì €ì¥
4. ìƒˆë¡œê³ ì¹¨í•´ë„ ì´ì „ ê°’ì´ ê·¸ëŒ€ë¡œ ìœ ì§€ë¨

---

### í™œìš© ì•„ì´ë””ì–´

* ë‹¤í¬ ëª¨ë“œ / ë¼ì´íŠ¸ ëª¨ë“œ ì„¤ì • ì €ì¥
* ìµœê·¼ ê²€ìƒ‰ì–´ ìºì‹±
* ì¥ë°”êµ¬ë‹ˆ ì •ë³´ ì €ì¥

---

ğŸ‘‰ ë‹¤ìŒì€ **35ë²ˆ â€“ useSessionStorage ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ ìƒíƒœ ì €ì¥** ì˜ˆì œë¡œ ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤. ê³„ì† ì§„í–‰í• ê¹Œìš”?
