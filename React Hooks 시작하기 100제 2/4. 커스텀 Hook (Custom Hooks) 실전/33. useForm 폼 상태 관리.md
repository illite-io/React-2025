좋습니다. 이제 **33번 – useForm 폼 상태 관리** 예제로 넘어가겠습니다.

---

## 33. useForm 폼 상태 관리

### 목표

* 여러 개의 input 상태를 하나의 훅에서 관리
* 값 변경, 초기화, 특정 필드 업데이트 등 제공
* 이벤트 핸들러를 공통화해서 코드 중복 줄이기

---

### 파일 경로 / 파일명

```
src/hooks/useForm.js
src/App.js
```

---

### 1) 커스텀 훅 – `useForm.js`

```javascript
import { useState, useCallback } from 'react';

/**
 * useForm(initialValues)
 * - initialValues: { key: value } 형태의 초기값
 * 반환: { values, handleChange, reset, setValue }
 */
export default function useForm(initialValues = {}) {
  const [values, setValues] = useState(initialValues);

  // input onChange에 바로 연결 가능한 핸들러
  const handleChange = useCallback((e) => {
    const { name, value, type, checked } = e.target;
    setValues((prev) => ({
      ...prev,
      [name]: type === 'checkbox' ? checked : value,
    }));
  }, []);

  // 전체 초기화
  const reset = useCallback(() => {
    setValues(initialValues);
  }, [initialValues]);

  // 특정 필드만 직접 업데이트
  const setValue = useCallback((name, value) => {
    setValues((prev) => ({
      ...prev,
      [name]: value,
    }));
  }, []);

  return { values, handleChange, reset, setValue };
}
```

---

### 2) 기본 사용 예제 – `App.js`

```javascript
import React from 'react';
import useForm from './hooks/useForm';

export default function App() {
  const { values, handleChange, reset, setValue } = useForm({
    username: '',
    email: '',
    agree: false,
  });

  const handleSubmit = (e) => {
    e.preventDefault();
    alert(JSON.stringify(values, null, 2));
  };

  return (
    <div style={{ padding: 20 }}>
      <h1>useForm 폼 상태 관리</h1>
      <form onSubmit={handleSubmit}>
        <div>
          <label>이름: </label>
          <input
            type="text"
            name="username"
            value={values.username}
            onChange={handleChange}
          />
        </div>
        <div>
          <label>이메일: </label>
          <input
            type="email"
            name="email"
            value={values.email}
            onChange={handleChange}
          />
        </div>
        <div>
          <label>
            <input
              type="checkbox"
              name="agree"
              checked={values.agree}
              onChange={handleChange}
            />
            이용약관 동의
          </label>
        </div>
        <button type="submit">제출</button>
        <button type="button" onClick={reset}>초기화</button>
        <button type="button" onClick={() => setValue('username', '홍길동')}>
          이름 자동 입력
        </button>
      </form>
    </div>
  );
}
```

---

### 실행 흐름

1. `useForm`에 초기값 전달 → `{ username: '', email: '', agree: false }`
2. 모든 `<input>`의 `name`과 `value`를 `values`에 매핑
3. `handleChange`가 공통 핸들러로 작동 → 타입에 따라 `value` 또는 `checked` 반영
4. `reset()` → 전체 초기화
5. `setValue('username', '홍길동')` → 특정 필드만 강제 업데이트

---

### 활용 아이디어

* 로그인 / 회원가입 폼
* 다단계 폼(멀티스텝) 기초
* 유효성 검증(useFormValidation과 결합)

---

다음은 **34번 – useLocalStorage 로컬 스토리지 상태 저장** 예제로 진행할까요?
