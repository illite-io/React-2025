좋습니다. 이제 **46번 – useTransition 대규모 리스트 렌더링 최적화** 예제를 보겠습니다.

---

## 46. useTransition 대규모 리스트 렌더링 최적화

### 핵심 개념

* 대규모 데이터 렌더링 시 입력/클릭 같은 **즉각 반응이 필요한 UI**와
  **시간이 오래 걸리는 렌더링 작업**을 분리해야 합니다.
* `useTransition`을 사용하면 UI가 **끊기지 않고 부드럽게 반응**합니다.
* `startTransition`으로 감싼 상태 업데이트는 **낮은 우선순위**로 처리됨.

---

### 파일 경로 / 파일명

```
src/App.js
```

---

### 코드 예제 – useTransition으로 검색 최적화

```javascript
import React, { useState, useTransition } from "react";

// 가짜 데이터 1만 개 생성
const bigList = Array.from({ length: 10000 }, (_, i) => `아이템 #${i + 1}`);

export default function App() {
  const [input, setInput] = useState("");       // 검색어 상태
  const [list, setList] = useState(bigList);    // 필터링된 리스트
  const [isPending, startTransition] = useTransition(); 
  // isPending: transition 실행 중인지 여부
  // startTransition: 낮은 우선순위 상태 업데이트 감싸기

  const handleChange = (e) => {
    const value = e.target.value;
    setInput(value); // 입력값은 즉시 반영 (높은 우선순위)

    startTransition(() => {
      // 리스트 필터링은 무거운 연산 → 낮은 우선순위로 처리
      const filtered = bigList.filter((item) =>
        item.toLowerCase().includes(value.toLowerCase())
      );
      setList(filtered);
    });
  };

  return (
    <div style={{ padding: 20 }}>
      <h1>useTransition 대규모 리스트 렌더링</h1>
      <input
        type="text"
        value={input}
        onChange={handleChange}
        placeholder="검색어 입력..."
        style={{ width: "100%", padding: "8px" }}
      />
      {isPending && <p style={{ color: "blue" }}>검색 중...</p>}
      <ul style={{ maxHeight: 400, overflow: "auto" }}>
        {list.map((item, i) => (
          <li key={i}>{item}</li>
        ))}
      </ul>
    </div>
  );
}
```

---

### 실행 흐름

1. 사용자가 검색어 입력 → `setInput`은 즉시 실행 → 입력창에 딜레이 없음
2. `startTransition` 안의 `setList`는 낮은 우선순위로 실행 → 렌더링 부담이 줄어듦
3. 리스트 필터링 중이면 `isPending = true` → “검색 중...” 표시

---

### 활용 아이디어

* **검색 UI 최적화**: 데이터가 수천 개 이상일 때 입력 반응성 확보
* **필터/정렬 UI**: 무거운 정렬 연산을 transition으로 분리
* **대규모 테이블 렌더링**: pagination 대신 전체 데이터 상태 변경을 지연 처리

---

👉 다음은 **47번 – useDeferredValue 검색 최적화** 예제로 넘어갈까요?
