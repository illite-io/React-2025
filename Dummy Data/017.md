ì¢‹ì•„ìš”! ì´ë²ˆì—ëŠ” **React Routerë¥¼ ì´ìš©í•œ ë¡œê·¸ì¸ í›„ ì ‘ê·¼ ì œí•œ êµ¬í˜„ ë°©ë²•**ì„ ì•Œë ¤ë“œë¦´ê²Œìš”.
ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ì‚¬ìš©ìê°€ **ì¸ì¦ì´ í•„ìš”í•œ í˜ì´ì§€ì— ì ‘ê·¼í•˜ë©´ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸**ë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

---

# âœ… ëª©í‘œ

* ë¡œê·¸ì¸ ì—¬ë¶€ì— ë”°ë¼ **íŠ¹ì • ë¼ìš°íŠ¸ ì ‘ê·¼ ì œí•œ**
* ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ì‚¬ìš©ìëŠ” `/login`ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

---

## ğŸ“ í´ë” êµ¬ì¡° ì˜ˆì‹œ

```
/src
 â”œâ”€â”€ /pages
 â”‚   â”œâ”€â”€ LoginPage.tsx
 â”‚   â”œâ”€â”€ HomePage.tsx
 â”‚   â””â”€â”€ ProtectedPage.tsx
 â”œâ”€â”€ /routes
 â”‚   â””â”€â”€ PrivateRoute.tsx   â† ë³´í˜¸ëœ ë¼ìš°íŠ¸ êµ¬ì„±
 â””â”€â”€ App.tsx
```

---

## âœ… 1. ë¡œê·¸ì¸ ì—¬ë¶€ íŒë‹¨ í•¨ìˆ˜

```ts
// /src/utils/auth.ts
export const isLoggedIn = () => {
  return !!localStorage.getItem('token'); // í† í° ì¡´ì¬ ì—¬ë¶€ë¡œ íŒë‹¨
};
```

---

## âœ… 2. ë³´í˜¸ëœ ë¼ìš°íŠ¸ ì»´í¬ë„ŒíŠ¸ (ğŸ“„ `/src/routes/PrivateRoute.tsx`)

```tsx
import React from 'react';
import { Navigate } from 'react-router-dom';
import { isLoggedIn } from '../utils/auth';

type Props = {
  children: JSX.Element;
};

const PrivateRoute = ({ children }: Props) => {
  if (!isLoggedIn()) {
    return <Navigate to="/login" replace />;
  }
  return children;
};

export default PrivateRoute;
```

---

## âœ… 3. ë¼ìš°í„° ì„¤ì • (ğŸ“„ `/src/App.tsx`)

```tsx
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import HomePage from './pages/HomePage';
import LoginPage from './pages/LoginPage';
import ProtectedPage from './pages/ProtectedPage';
import PrivateRoute from './routes/PrivateRoute';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<HomePage />} />
        <Route path="/login" element={<LoginPage />} />
        {/* âœ… ë³´í˜¸ëœ í˜ì´ì§€ */}
        <Route
          path="/protected"
          element={
            <PrivateRoute>
              <ProtectedPage />
            </PrivateRoute>
          }
        />
      </Routes>
    </BrowserRouter>
  );
}

export default App;
```

---

## âœ… 4. ì˜ˆì‹œ í˜ì´ì§€ êµ¬ì„±

### ğŸ“„ `/src/pages/ProtectedPage.tsx`

```tsx
const ProtectedPage = () => {
  return <h2>ì´ í˜ì´ì§€ëŠ” ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</h2>;
};

export default ProtectedPage;
```

---

## âœ… 5. ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸

```tsx
// /src/pages/LoginPage.tsx ë‚´
import { useNavigate } from 'react-router-dom';

const navigate = useNavigate();

const handleLogin = async () => {
  const result = await login(username, password);
  localStorage.setItem('token', result.token);
  navigate('/protected'); // ğŸ” ë¡œê·¸ì¸ í›„ ì´ë™
};
```

---

## ğŸ“Œ ìš”ì•½

| ê¸°ëŠ¥            | êµ¬í˜„ ë°©ì‹                           |
| ------------- | ------------------------------- |
| ë¡œê·¸ì¸ ìƒíƒœ íŒë‹¨     | `localStorage.getItem('token')` |
| ë¼ìš°íŠ¸ ë³´í˜¸        | `<PrivateRoute> ì»´í¬ë„ŒíŠ¸`           |
| ì ‘ê·¼ ì°¨ë‹¨ ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸ | `<Navigate to="/login" />`      |
| ë¡œê·¸ì¸ ì„±ê³µ í›„ ì´ë™   | `navigate('/protected')`        |

---

## ğŸ§  ì‘ìš© ê°€ëŠ¥

| ê¸°ëŠ¥                     | ì„¤ëª…                  |
| ---------------------- | ------------------- |
| ê´€ë¦¬ì ì „ìš© í˜ì´ì§€             | `role`ê¹Œì§€ ê²€ì‚¬í•´ì„œ ì œí•œ ê°€ëŠ¥ |
| ë¡œê·¸ì•„ì›ƒ ì‹œ ìƒíƒœ ì´ˆê¸°í™”          | í† í° ì‚­ì œ í›„ í™ˆìœ¼ë¡œ ì´ë™      |
| React Query/Context ì‚¬ìš© | ì¸ì¦ ìƒíƒœ ì „ì—­ ê´€ë¦¬ ê°€ëŠ¥      |

---

## ğŸ‘‰ ë‹¤ìŒ ì¶”ì²œ ì£¼ì œ

* ğŸ” ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ êµ¬í˜„ ë° ìƒíƒœ ì´ˆê¸°í™”
* âš›ï¸ React Queryë¡œ ë¡œê·¸ì¸ ìƒíƒœ ì „ì—­ ê´€ë¦¬
* ğŸ§ª ë¡œê·¸ì¸ ìƒíƒœ í…ŒìŠ¤íŠ¸ ìë™í™” (with MSW)

ë³´ê³  ì‹¶ì€ í•­ëª©ì„ ë§ì”€í•´ ì£¼ì„¸ìš”!
ë˜ëŠ” `"ë‹¤ìŒ"`ì´ë¼ê³  ì…ë ¥í•˜ì‹œë©´ **ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ êµ¬í˜„**ìœ¼ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.
