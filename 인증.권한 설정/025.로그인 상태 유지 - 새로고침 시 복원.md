# 025. ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ - ìƒˆë¡œê³ ì¹¨ ì‹œ ë³µì›

React ì•±ì—ì„œ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ìƒíƒœê°€ ì´ˆê¸°í™”ë˜ê¸° ë•Œë¬¸ì—,  
ë¡œê·¸ì¸ ìƒíƒœ(`user`, `token`)ë¥¼ **`localStorage` ë˜ëŠ” `sessionStorage`**ì— ì €ì¥í•´ë‘ê³   
ì•±ì´ ì‹œì‘ë  ë•Œ ì´ë¥¼ ë¶ˆëŸ¬ì™€ ìƒíƒœë¥¼ ë³µì›í•´ì•¼ í•©ë‹ˆë‹¤.

---

## âœ… ì£¼ìš” í¬ì¸íŠ¸
- ë¡œê·¸ì¸ ì‹œ ì‚¬ìš©ì ì •ë³´ë¥¼ `localStorage`ì— ì €ì¥
- ì•± ë¡œë”© ì‹œ `localStorage`ì—ì„œ ê°’ì„ ì½ì–´ ìƒíƒœë¥¼ ì´ˆê¸°í™”
- ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬(ex: Zustand, Context ë“±)ì™€ í•¨ê»˜ ì‚¬ìš©

---

## âœ… ì˜ˆì‹œ ì½”ë“œ (Zustand ê¸°ì¤€)

### 1. ìƒíƒœ ì •ì˜ ë° ë³µì› (src/store/useAuthStore.js)

```js
import { create } from 'zustand';

const useAuthStore = create((set) => ({
  user: JSON.parse(localStorage.getItem('user')) || null,
  token: localStorage.getItem('token') || null,
  isAuthenticated: !!localStorage.getItem('token'),

  login: ({ user, token }) => {
    localStorage.setItem('user', JSON.stringify(user));
    localStorage.setItem('token', token);
    set({ user, token, isAuthenticated: true });
  },

  logout: () => {
    localStorage.clear();
    set({ user: null, token: null, isAuthenticated: false });
  },
}));

export default useAuthStore;
```

---

### 2. ì•± ë¡œë”© ì‹œ ìƒíƒœ ì´ˆê¸°í™” í™•ì¸ (src/App.js)

```jsx
import { useEffect } from 'react';
import useAuthStore from './store/useAuthStore';

function App() {
  const { login } = useAuthStore();

  useEffect(() => {
    const user = localStorage.getItem('user');
    const token = localStorage.getItem('token');

    if (user && token) {
      login({ user: JSON.parse(user), token });
    }
  }, []);

  return <MainRoutes />;
}

export default App;
```

---

## ğŸ“ ì¶”ê°€ ì„¤ëª…
- `sessionStorage`ë¥¼ ì“°ë©´ ë¸Œë¼ìš°ì € íƒ­ì„ ë‹«ìœ¼ë©´ ìë™ ë¡œê·¸ì•„ì›ƒë¨
- í† í°ì´ ë§Œë£Œë˜ëŠ” ê²½ìš°ë¥¼ ê³ ë ¤í•´ `ìë™ ë¡œê·¸ì•„ì›ƒ` ë˜ëŠ” `ë¦¬í”„ë ˆì‹œ í† í°` ì²˜ë¦¬ í•„ìš”
- ì„œë²„ì—ì„œ í† í° ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í•˜ëŠ” APIë¥¼ í†µí•´ ìƒíƒœ ë³µì› ì‹ ë¢°ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆìŒ
