# 031. ê´€ë¦¬ì ì™¸ ì ‘ê·¼ ì‹œ 403 ì•ˆë‚´ í˜ì´ì§€ ì¶œë ¥

ê´€ë¦¬ì ì „ìš© í˜ì´ì§€ì— ì¼ë°˜ ì‚¬ìš©ìê°€ ì ‘ê·¼í•  ê²½ìš°, ë‹¨ìˆœ ë¦¬ë””ë ‰ì…˜ ëŒ€ì‹   
ëª…í™•í•˜ê²Œ ê¶Œí•œ ë¶€ì¡±ì„ ì•Œë¦¬ëŠ” **403 Forbidden í˜ì´ì§€**ë¥¼ ë³´ì—¬ì£¼ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.  
ì´ë¥¼ í†µí•´ ì‚¬ìš©ì í˜¼ë€ì„ ì¤„ì´ê³ , UXë¥¼ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## âœ… ì£¼ìš” í¬ì¸íŠ¸
- ê¶Œí•œ ë¶€ì¡± ì‹œ ë³„ë„ `403 í˜ì´ì§€`ë¡œ ì´ë™
- `AdminRoute` ë˜ëŠ” `ProtectedRoute`ì—ì„œ ì¡°ê±´ ì²˜ë¦¬
- ë””ìì¸ ìš”ì†Œ í¬í•¨í•œ í˜ì´ì§€ë¡œ ì‹œê°ì  ì•ˆë‚´ ì œê³µ

---

## âœ… ì˜ˆì‹œ ì½”ë“œ

### 1. 403 í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ìƒì„± (src/pages/Forbidden403.js)

```jsx
const Forbidden403 = () => {
  return (
    <div style={{ padding: '3rem', textAlign: 'center' }}>
      <h1>403 - ì ‘ê·¼ ê±°ë¶€</h1>
      <p>ì´ í˜ì´ì§€ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.</p>
    </div>
  );
};

export default Forbidden403;
```

---

### 2. AdminRouteì—ì„œ ê¶Œí•œ í™•ì¸ í›„ 403 ë¦¬ë””ë ‰ì…˜ (src/routes/AdminRoute.js)

```jsx
import { Navigate, useLocation } from 'react-router-dom';
import useAuthStore from '../store/useAuthStore';

const AdminRoute = ({ children }) => {
  const { isAuthenticated, user } = useAuthStore();
  const location = useLocation();

  if (!isAuthenticated) {
    return <Navigate to="/login" state={{ from: location }} replace />;
  }

  if (user?.role !== 'admin') {
    return <Navigate to="/403" replace />;
  }

  return children;
};

export default AdminRoute;
```

---

### 3. ë¼ìš°í„°ì— 403 ê²½ë¡œ ì¶”ê°€ (src/MainRoutes.js)

```jsx
import { Route, Routes } from 'react-router-dom';
import Forbidden403 from './pages/Forbidden403';

<Routes>
  <Route path="/403" element={<Forbidden403 />} />
</Routes>;
```

---

## ğŸ“ ì¶”ê°€ ì„¤ëª…
- ë””ìì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(MUI, Ant Design ë“±)ë¥¼ ì‚¬ìš©í•´ ë” ì„¸ë ¨ëœ 403 í˜ì´ì§€ ì œì‘ ê°€ëŠ¥
- 403 ì™¸ì—ë„ 404, 500 ë“± ë‹¤ì–‘í•œ ì—ëŸ¬ í˜ì´ì§€ë„ í•¨ê»˜ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì 
- ë³´ì•ˆìƒ ì„œë²„ì—ì„œë„ í•´ë‹¹ ì‚¬ìš©ì ê¶Œí•œì„ ê²€ì¦í•´ì•¼ í•¨
