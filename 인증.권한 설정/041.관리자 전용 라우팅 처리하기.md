# 041. ê´€ë¦¬ì ì „ìš© ë¼ìš°íŒ… ì²˜ë¦¬í•˜ê¸°

ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ ê²½ë¡œ(`/admin` ë“±)ì—  
**ë¹„ê´€ë¦¬ì ë˜ëŠ” ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ìê°€ ì ‘ê·¼**í•˜ë ¤ê³  í•˜ë©´,  
ì ‘ê·¼ì„ ì°¨ë‹¨í•˜ê³  **403 ì•ˆë‚´ í˜ì´ì§€** ë˜ëŠ” ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë””ë ‰ì…˜ ì²˜ë¦¬í•©ë‹ˆë‹¤.

---

## âœ… ì£¼ìš” í¬ì¸íŠ¸
- ì‚¬ìš©ì role í™•ì¸ (`admin`ì¸ì§€)
- `ProtectedRoute`ë¥¼ í™•ì¥í•œ `AdminRoute` ì»´í¬ë„ŒíŠ¸ ìƒì„±
- ì ‘ê·¼ ë¶ˆê°€ ì‹œ ê²½ê³  ë©”ì‹œì§€ ë˜ëŠ” `/403` í˜ì´ì§€ë¡œ ì´ë™

---

## âœ… ì˜ˆì‹œ ì½”ë“œ

### 1. ê´€ë¦¬ì ì „ìš© ë¼ìš°íŠ¸ ì»´í¬ë„ŒíŠ¸ ìƒì„± (src/routes/AdminRoute.js)

```jsx
import { Navigate } from 'react-router-dom';
import useAuthStore from '../store/useAuthStore';

const AdminRoute = ({ children }) => {
  const { isAuthenticated, user } = useAuthStore();

  if (!isAuthenticated) return <Navigate to="/login" replace />;
  if (user?.role !== 'admin') return <Navigate to="/403" replace />;

  return children;
};

export default AdminRoute;
```

---

### 2. App ë¼ìš°íŠ¸ì— ì ìš© (src/App.js)

```jsx
import AdminRoute from './routes/AdminRoute';
import AdminPage from './pages/AdminPage';
import ForbiddenPage from './pages/ForbiddenPage';

<Route
  path="/admin"
  element={
    <AdminRoute>
      <AdminPage />
    </AdminRoute>
  }
/>
<Route path="/403" element={<ForbiddenPage />} />
```

---

### 3. 403 ì•ˆë‚´ í˜ì´ì§€ ì˜ˆì‹œ (src/pages/ForbiddenPage.js)

```jsx
const ForbiddenPage = () => {
  return (
    <div style={{ padding: '2rem', textAlign: 'center' }}>
      <h2>403 - ì ‘ê·¼ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤</h2>
      <p>ê´€ë¦¬ìë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤.</p>
    </div>
  );
};

export default ForbiddenPage;
```

---

## ğŸ“ ì¶”ê°€ ì„¤ëª…
- ë¼ìš°íŠ¸ ë³´í˜¸ ë°©ì‹ì€ ì‚¬ìš©ì ê¶Œí•œ ì¢…ë¥˜ê°€ ë§ì„ìˆ˜ë¡ ì¬ì‚¬ìš©ì´ ì‰¬ì›€
- `AdminRoute`, `UserRoute`, `StaffRoute` ë“±ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥
- ë°±ì—”ë“œë„ í•´ë‹¹ ê¶Œí•œì„ í™•ì¸í•´ì•¼ ë³´ì•ˆì´ ì™„ì „í•´ì§
