ì¢‹ì•„ìš”! ğŸ˜Š
ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” \*\*ì¡°íšŒìˆ˜ ê¸°ëŠ¥(views)\*\*ì„ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

---

## âœ… 20ë‹¨ê³„: ê¸€ ì¡°íšŒìˆ˜ ê¸°ëŠ¥ êµ¬í˜„

---

### ğŸ¯ ëª©í‘œ

* ì‚¬ìš©ìê°€ ê¸€ ìƒì„¸ í˜ì´ì§€ì— ë“¤ì–´ê°ˆ ë•Œë§ˆë‹¤ **ì¡°íšŒìˆ˜ +1**
* ì¡°íšŒìˆ˜ëŠ” `views` í•„ë“œë¡œ ì„œë²„ì— ì €ì¥ë¨
* ìƒì„¸ í˜ì´ì§€ì™€ ëª©ë¡ í˜ì´ì§€ì— ì¡°íšŒìˆ˜ í‘œì‹œ

---

## ğŸ“ ìˆ˜ì • ëŒ€ìƒ

```
src/pages/
â”œâ”€â”€ PostDetailPage.js        âœ… ì¡°íšŒìˆ˜ ì¦ê°€ ê¸°ëŠ¥ ì¶”ê°€
â”œâ”€â”€ PostListPage.js          âœ… ëª©ë¡ì— ì¡°íšŒìˆ˜ í‘œì‹œ
```

---

## ğŸ“„ 1. íŒŒì¼ ìˆ˜ì •: `src/pages/PostDetailPage.js`

```jsx
import React, { useEffect, useState } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import ConfirmModal from '../components/ConfirmModal';
import { formatDate } from '../utils/dateFormat';

function PostDetailPage() {
  const { postId } = useParams();
  const navigate = useNavigate();

  const [post, setPost] = useState(null);
  const [showModal, setShowModal] = useState(false);
  const [likes, setLikes] = useState(0);
  const [views, setViews] = useState(0); // âœ… ì¡°íšŒìˆ˜ ìƒíƒœ

  useEffect(() => {
    fetch(`http://localhost:4000/posts/${postId}`)
      .then((res) => res.json())
      .then((data) => {
        setPost(data);
        setLikes(data.likes || 0);
        const currentViews = (data.views || 0) + 1;
        setViews(currentViews);

        // âœ… ì¡°íšŒìˆ˜ ì¦ê°€ PATCH ìš”ì²­
        fetch(`http://localhost:4000/posts/${postId}`, {
          method: 'PATCH',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ views: currentViews }),
        });
      })
      .catch((err) => console.error('ê¸€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:', err));
  }, [postId]);

  const handleDelete = async () => {
    try {
      const res = await fetch(`http://localhost:4000/posts/${postId}`, {
        method: 'DELETE',
      });
      if (!res.ok) throw new Error();
      alert('ì‚­ì œ ì™„ë£Œ!');
      navigate('/posts');
    } catch {
      alert('ì‚­ì œ ì‹¤íŒ¨!');
    }
  };

  const handleLike = async () => {
    const newLikes = likes + 1;
    setLikes(newLikes);
    await fetch(`http://localhost:4000/posts/${postId}`, {
      method: 'PATCH',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ likes: newLikes }),
    });
  };

  if (!post) return <p>ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>;

  return (
    <div>
      <h1>{post.title}</h1>
      <p><strong>ì‘ì„±ì:</strong> {post.author}</p>
      {post.createdAt && <p><strong>ì‘ì„±ì¼:</strong> {formatDate(post.createdAt)}</p>}
      {post.updatedAt && <p><strong>ìˆ˜ì •ì¼:</strong> {formatDate(post.updatedAt)}</p>}
      <p><strong>ì¡°íšŒìˆ˜:</strong> {views}</p>
      <hr />
      <p>{post.content}</p>

      <button onClick={handleLike} style={{ marginRight: '10px' }}>
        â¤ï¸ ì¢‹ì•„ìš” {likes}
      </button>
      <button onClick={() => navigate(`/edit/${post.id}`)}>ìˆ˜ì •í•˜ê¸°</button>
      <button onClick={() => setShowModal(true)} style={{ color: 'red' }}>ì‚­ì œí•˜ê¸°</button>

      {showModal && (
        <ConfirmModal
          message="ì •ë§ ì‚­ì œí• ê¹Œìš”?"
          onConfirm={() => {
            setShowModal(false);
            handleDelete();
          }}
          onCancel={() => setShowModal(false)}
        />
      )}
    </div>
  );
}

export default PostDetailPage;
```

---

## ğŸ“„ 2. íŒŒì¼ ìˆ˜ì •: `src/pages/PostListPage.js`

```jsx
{filteredPosts.map((post) => (
  <li key={post.id} style={{ marginBottom: '20px' }}>
    {post.thumbnail && (
      <img
        src={post.thumbnail}
        alt="ì¸ë„¤ì¼"
        style={{ width: '100px', marginRight: '10px', verticalAlign: 'middle' }}
      />
    )}
    <Link to={`/posts/${post.id}`}>
      <strong>{post.title}</strong>
    </Link>{' '}
    - {post.author}
    <span style={{ marginLeft: '10px', color: '#888' }}>
      â¤ï¸ {post.likes || 0} | ğŸ‘ {post.views || 0}
    </span>
  </li>
))}
```

---

## âœ… ì‹¤í–‰ ê²°ê³¼

* ê¸€ ìƒì„¸ í˜ì´ì§€ ì ‘ì† ì‹œ ìë™ìœ¼ë¡œ ì¡°íšŒìˆ˜ +1
* ì„œë²„(json-server)ì—ë„ ë°˜ì˜ë˜ì–´ ìƒˆë¡œê³ ì¹¨í•´ë„ ìœ ì§€ë¨
* ëª©ë¡ì—ë„ ğŸ‘ ì•„ì´ì½˜ê³¼ í•¨ê»˜ ì¡°íšŒìˆ˜ í‘œì‹œë¨

---

## âœ… ë‹¤ìŒ ê¸°ëŠ¥ ì œì•ˆ

ì¡°íšŒìˆ˜ê¹Œì§€ ì™„ë²½íˆ êµ¬í˜„ëìŠµë‹ˆë‹¤! ğŸ‰

ë‹¤ìŒìœ¼ë¡œ ì–´ë–¤ ê¸°ëŠ¥ì„ ì¶”ê°€í• ê¹Œìš”?

* ğŸ“± â€œëª¨ë°”ì¼ ë°˜ì‘í˜• UI ë§Œë“¤ì–´ì¤˜â€
* ğŸŒˆ â€œTailwindCSS ì „ì²´ ì ìš©í•´ì¤˜â€
* ğŸ” â€œê°„ë‹¨í•œ ë¡œê·¸ì¸ ì‹œìŠ¤í…œ êµ¬í˜„í•´ì¤˜ (ë‹‰ë„¤ì„ ê¸°ë°˜)â€
* ğŸ” â€œê¸€ ë‚´ìš©ê¹Œì§€ í¬í•¨í•œ ì „ì²´ ê²€ìƒ‰ ê¸°ëŠ¥ ë§Œë“¤ì–´ì¤˜â€

> ì›í•˜ì‹œëŠ” ê¸°ëŠ¥ì„ ì•Œë ¤ì£¼ì‹œë©´ ê³„ì†í•´ì„œ ê²½ë¡œ, ì½”ë“œ, ì„¤ëª… í¬í•¨í•´ì„œ ë„ì™€ë“œë¦´ê²Œìš”!
