ì¢‹ì•„ìš”! ğŸ˜Š
ì´ë²ˆì—ëŠ” **ëŒ“ê¸€ ê¸°ëŠ¥**ì„ ì¶”ê°€í•´ë“œë¦´ê²Œìš”.
í•˜ë‚˜ì˜ ê¸€ ìƒì„¸ í˜ì´ì§€(`PostDetailPage`)ì—ì„œ **ëŒ“ê¸€ ëª©ë¡ì„ ë³´ì—¬ì£¼ê³ **, **ìƒˆ ëŒ“ê¸€ì„ ë“±ë¡í•˜ëŠ” ê¸°ëŠ¥**ì„ êµ¬í˜„í•˜ê² ìŠµë‹ˆë‹¤.

---

## âœ… 9ë‹¨ê³„: ëŒ“ê¸€ ê¸°ëŠ¥ ì¶”ê°€ (ëª©ë¡ + ë“±ë¡)

---

### âœ… ëª©í‘œ

* ëŒ“ê¸€ì€ íŠ¹ì • ê¸€(post)ì— **ì—¬ëŸ¬ ê°œ ë“±ë¡** ê°€ëŠ¥
* ê¸€ ìƒì„¸ í˜ì´ì§€ í•˜ë‹¨ì— ëŒ“ê¸€ ëª©ë¡ê³¼ ì…ë ¥ì°½ í‘œì‹œ
* ë“±ë¡ ë²„íŠ¼ í´ë¦­ ì‹œ í•´ë‹¹ ê¸€ì— ëŒ“ê¸€ ì¶”ê°€ (POST ìš”ì²­)
* ëŒ“ê¸€ ëª©ë¡ì€ `GET /comments?postId=1` í˜•ì‹ìœ¼ë¡œ ê°€ì ¸ì˜´

---

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
src/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ CommentList.js       âœ… ëŒ“ê¸€ ëª©ë¡ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ CommentForm.js       âœ… ëŒ“ê¸€ ì‘ì„± í¼ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ PostDetailPage.js    âœ… ìˆ˜ì •
```

---

## âœ… ë°±ì—”ë“œ ì¤€ë¹„ (json-serverìš© `db.json` ìˆ˜ì •)

```json
{
  "posts": [
    {
      "id": 1,
      "title": "ì²« ë²ˆì§¸ ê¸€",
      "author": "í™ê¸¸ë™",
      "content": "ì´ê²ƒì€ ì²« ë²ˆì§¸ ê¸€ì˜ ë³¸ë¬¸ì…ë‹ˆë‹¤."
    }
  ],
  "comments": [
    {
      "id": 1,
      "postId": 1,
      "author": "ì´ì˜í¬",
      "content": "ì¢‹ì€ ê¸€ì´ë„¤ìš”!"
    }
  ]
}
```

> ğŸ’¡ ëŒ“ê¸€ì€ `postId`ë¡œ ì–´ë–¤ ê¸€ì— ë‹¬ë¦° ëŒ“ê¸€ì¸ì§€ êµ¬ë¶„í•©ë‹ˆë‹¤.

---

## ğŸ“„ íŒŒì¼: `src/components/CommentList.js`

```jsx
// src/components/CommentList.js
import React, { useEffect, useState } from 'react';

function CommentList({ postId }) {
  const [comments, setComments] = useState([]);

  useEffect(() => {
    fetch(`http://localhost:4000/comments?postId=${postId}`)
      .then((res) => res.json())
      .then((data) => setComments(data))
      .catch((err) => console.error('ëŒ“ê¸€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:', err));
  }, [postId]);

  return (
    <div>
      <h3>ëŒ“ê¸€ ëª©ë¡</h3>
      {comments.length === 0 ? (
        <p>ì•„ì§ ëŒ“ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
      ) : (
        <ul>
          {comments.map((comment) => (
            <li key={comment.id}>
              <strong>{comment.author}</strong>: {comment.content}
            </li>
          ))}
        </ul>
      )}
    </div>
  );
}

export default CommentList;
```

---

## ğŸ“„ íŒŒì¼: `src/components/CommentForm.js`

```jsx
// src/components/CommentForm.js
import React, { useState } from 'react';

function CommentForm({ postId, onCommentAdded }) {
  const [author, setAuthor] = useState('');
  const [content, setContent] = useState('');

  const handleSubmit = async (e) => {
    e.preventDefault();

    const newComment = {
      postId: Number(postId),
      author,
      content,
    };

    try {
      const res = await fetch('http://localhost:4000/comments', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(newComment),
      });

      if (!res.ok) throw new Error('ëŒ“ê¸€ ë“±ë¡ ì‹¤íŒ¨');

      setAuthor('');
      setContent('');
      onCommentAdded(); // ë“±ë¡ í›„ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ìš”ì²­
    } catch (err) {
      console.error('ëŒ“ê¸€ ì‘ì„± ì‹¤íŒ¨:', err);
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      <h3>ëŒ“ê¸€ ì‘ì„±</h3>
      <input
        type="text"
        value={author}
        placeholder="ì‘ì„±ì"
        onChange={(e) => setAuthor(e.target.value)}
        required
      /><br />
      <textarea
        value={content}
        placeholder="ë‚´ìš©"
        onChange={(e) => setContent(e.target.value)}
        rows={3}
        required
      /><br />
      <button type="submit">ëŒ“ê¸€ ë“±ë¡</button>
    </form>
  );
}

export default CommentForm;
```

---

## ğŸ“„ íŒŒì¼ ìˆ˜ì •: `src/pages/PostDetailPage.js`

```jsx
import CommentList from '../components/CommentList';
import CommentForm from '../components/CommentForm';

// ...

function PostDetailPage() {
  // ...ìƒëµ...

  const [reload, setReload] = useState(false); // ëŒ“ê¸€ ìƒˆë¡œê³ ì¹¨ìš© ìƒíƒœ

  const refreshComments = () => {
    setReload(!reload); // ë³€ê²½ë˜ë©´ CommentListê°€ ë‹¤ì‹œ ì‹¤í–‰ë¨
  };

  return (
    <div>
      <h1>{post.title}</h1>
      <p><strong>ì‘ì„±ì:</strong> {post.author}</p>
      <hr />
      <p>{post.content}</p>

      <button onClick={() => navigate(`/edit/${post.id}`)}>ìˆ˜ì •í•˜ê¸°</button>
      <button onClick={handleDelete}>ì‚­ì œí•˜ê¸°</button>

      <hr />
      <CommentForm postId={post.id} onCommentAdded={refreshComments} />
      <CommentList key={reload} postId={post.id} />
    </div>
  );
}
```

---

## âœ… ì‹¤í–‰ íë¦„

1. `/posts/1`ì— ì ‘ì†
2. í•˜ë‹¨ì— ëŒ“ê¸€ ì…ë ¥ì°½ í‘œì‹œ
3. ëŒ“ê¸€ ì‘ì„± í›„ ë“±ë¡í•˜ë©´ ë°”ë¡œ ì•„ë˜ ëª©ë¡ì— ë°˜ì˜ë¨
4. ëŒ“ê¸€ì€ `json-server`ì˜ `/comments`ë¡œ ì €ì¥ë¨

---

## âœ… ë‹¤ìŒ ê¸°ëŠ¥ì€?

ëŒ“ê¸€ ê¸°ëŠ¥ë„ ì™„ì„±ëì–´ìš”! ğŸ‰
ì´ì œ ì „ì²´ ì„œë¹„ìŠ¤ê°€ ê½¤ ê´œì°®ì€ ì»¤ë®¤ë‹ˆí‹° í˜•íƒœê°€ ë˜ì—ˆì–´ìš”.

ë‹¤ìŒì€ ì–´ë–¤ ê±¸ ì›í•˜ì‹œë‚˜ìš”?

* ğŸ¨ â€œì „ì²´ UIë¥¼ ìŠ¤íƒ€ì¼ë§ ì¢€ í•´ì¤˜â€
* âš ï¸ â€œí¼ ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬ ì¶”ê°€í•´ì¤˜â€
* ğŸ’¾ â€œlocalStorageì— ì €ì¥í•˜ëŠ” ì˜ˆì‹œë„ ë³´ì—¬ì¤˜â€
* ğŸ” â€œê²€ìƒ‰ ê¸°ëŠ¥ ì¶”ê°€í•˜ê³  ì‹¶ì–´â€

> ì›í•˜ì‹œëŠ” ê¸°ëŠ¥ ë§ì”€í•´ì£¼ì„¸ìš”. ë°•í•˜ê°€ ì´ì–´ì„œ ìì„¸íˆ ë§Œë“¤ì–´ë“œë¦´ê²Œìš”!
