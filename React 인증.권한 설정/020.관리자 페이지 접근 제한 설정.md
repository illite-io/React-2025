# 020. ê´€ë¦¬ì í˜ì´ì§€ ì ‘ê·¼ ì œí•œ ì„¤ì •

ì–´ë“œë¯¼ í˜ì´ì§€(`/admin`)ëŠ” ì¼ë°˜ ì‚¬ìš©ìê°€ ì ‘ê·¼í•˜ë©´ ì•ˆ ë˜ë¯€ë¡œ,  
React Routerì—ì„œ **ê¶Œí•œ(role)ì´ 'admin'ì¸ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡** ì œí•œì„ ê±¸ì–´ì•¼ í•©ë‹ˆë‹¤.

---

## âœ… ì£¼ìš” í¬ì¸íŠ¸
- ì‚¬ìš©ì ì •ë³´ì— `role`ì´ ë°˜ë“œì‹œ ìˆì–´ì•¼ í•¨
- ê´€ë¦¬ì ì „ìš© ë¼ìš°íŠ¸ ë³´í˜¸ ì»´í¬ë„ŒíŠ¸ ìƒì„±
- ê¶Œí•œ ì—†ìœ¼ë©´ `/no-access` ë“±ìœ¼ë¡œ ë¦¬ë””ë ‰ì…˜

---

## âœ… ì˜ˆì‹œ ì½”ë“œ

### 1. ê´€ë¦¬ì ì „ìš© ë¼ìš°íŠ¸ ë³´í˜¸ ì»´í¬ë„ŒíŠ¸ (src/routes/AdminRoute.js)

```jsx
import { Navigate } from 'react-router-dom';
import useAuthStore from '../store/useAuthStore';

const AdminRoute = ({ children }) => {
  const { user } = useAuthStore();

  if (!user || user.role !== 'admin') {
    return <Navigate to="/no-access" replace />;
  }

  return children;
};

export default AdminRoute;
```

---

### 2. ë¼ìš°íŠ¸ ì„¤ì •ì— ì ìš© (src/MainRoutes.js)

```jsx
import { Routes, Route } from 'react-router-dom';
import AdminRoute from './routes/AdminRoute';
import AdminDashboard from './pages/AdminDashboard';
import NoAccess from './pages/NoAccess';

function MainRoutes() {
  return (
    <Routes>
      <Route
        path="/admin"
        element={
          <AdminRoute>
            <AdminDashboard />
          </AdminRoute>
        }
      />
      <Route path="/no-access" element={<NoAccess />} />
    </Routes>
  );
}

export default MainRoutes;
```

---

### 3. ì ‘ê·¼ ê±°ë¶€ í˜ì´ì§€ (src/pages/NoAccess.js)

```jsx
const NoAccess = () => {
  return <h2>ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.</h2>;
};

export default NoAccess;
```

---

## ğŸ“ ì¶”ê°€ ì„¤ëª…
- ê´€ë¦¬ì ì „ìš© í˜ì´ì§€ë¥¼ ë¼ìš°íŒ… ìˆ˜ì¤€ì—ì„œ ì œí•œí•˜ë©´ ë³´ì•ˆì„±ê³¼ UX í–¥ìƒì— ì¢‹ìŒ
- ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” `/login`ìœ¼ë¡œ ë¦¬ë””ë ‰ì…˜í•˜ëŠ” ê²ƒë„ ì¶”ê°€ ê°€ëŠ¥
- ê´€ë¦¬ì ì—¬ë¶€ëŠ” ë¡œì»¬ ìƒíƒœë³´ë‹¨ ë°±ì—”ë“œ ê²€ì¦ê³¼ í•¨ê»˜ ì“°ëŠ” ê²ƒì´ ë°”ëŒì§
