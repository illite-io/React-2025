# 021. ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ì‚¬ìš©ìì˜ ì ‘ê·¼ ì œí•œ

ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ì‚¬ìš©ìê°€ ì¸ì¦ì´ í•„ìš”í•œ í˜ì´ì§€ì— ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡,  
React Routerì—ì„œ **ì „ìš© ë³´í˜¸ ì»´í¬ë„ŒíŠ¸(ProtectedRoute)**ë¥¼ ë§Œë“¤ì–´ ì°¨ë‹¨í•©ë‹ˆë‹¤.

---

## âœ… ì£¼ìš” í¬ì¸íŠ¸
- ë¡œê·¸ì¸ ì—¬ë¶€ ìƒíƒœ í™•ì¸ (ì˜ˆ: `isAuthenticated`)
- ë³´í˜¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë¼ìš°íŠ¸ ê°ì‹¸ê¸°
- ë¯¸ì¸ì¦ ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€(`/login`)ë¡œ ë¦¬ë””ë ‰ì…˜

---

## âœ… ì˜ˆì‹œ ì½”ë“œ

### 1. ë³´í˜¸ ë¼ìš°íŠ¸ ì»´í¬ë„ŒíŠ¸ (src/routes/ProtectedRoute.js)

```jsx
import { Navigate } from 'react-router-dom';
import useAuthStore from '../store/useAuthStore';

const ProtectedRoute = ({ children }) => {
  const { isAuthenticated } = useAuthStore();

  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }

  return children;
};

export default ProtectedRoute;
```

---

### 2. ì ìš© ì˜ˆì‹œ (src/MainRoutes.js)

```jsx
import ProtectedRoute from './routes/ProtectedRoute';
import Dashboard from './pages/Dashboard';

<Route
  path="/dashboard"
  element={
    <ProtectedRoute>
      <Dashboard />
    </ProtectedRoute>
  }
/>
```

---

### 3. ë¡œê·¸ì¸ ìƒíƒœ ì „ì—­ ì €ì¥ ì˜ˆì‹œ (src/store/useAuthStore.js)

```js
isAuthenticated: false,

login: ({ user, token }) => {
  set({ user, token, isAuthenticated: true });
},

logout: () => {
  set({ user: null, token: null, isAuthenticated: false });
},
```

---

## ğŸ“ ì¶”ê°€ ì„¤ëª…
- ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ìƒíƒœë¡œ `/dashboard`ë‚˜ `/admin` ì ‘ê·¼ ì‹œ `/login`ìœ¼ë¡œ ë³´ë‚´ëŠ” UX í•„ìˆ˜
- ì¸ì¦ ì—¬ë¶€ëŠ” `token`ë§Œìœ¼ë¡œ íŒë‹¨í•˜ì§€ ë§ê³ , ìƒíƒœë„ í•¨ê»˜ ê³ ë ¤í•´ì•¼ ì•ˆì „
- í•„ìš” ì‹œ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ìƒíƒœ ë³µì›ì„ ìœ„í•´ `localStorage` ì‚¬ìš©
