# âœ… 078. ë¡œê·¸ì•„ì›ƒ ì‹œ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ë™ê¸°í™” ì²˜ë¦¬

### ğŸ“„ ì„¤ëª…

ì‚¬ìš©ìê°€ ë¡œê·¸ì•„ì›ƒí•  ê²½ìš°,
**í´ë¼ì´ì–¸íŠ¸ì˜ ë¡œê·¸ì¸ ìƒíƒœì™€ ì €ì¥ëœ í† í° ì œê±°**,
ê·¸ë¦¬ê³  (ì„ íƒì ìœ¼ë¡œ) **ì„œë²„ì—ì„œë„ ì„¸ì…˜ ë˜ëŠ” í† í°ì„ ë¬´íš¨í™”**í•˜ëŠ” ì²˜ë¦¬ë¥¼ í•¨ê»˜ í•©ë‹ˆë‹¤.

---

## âœ… ì£¼ìš” í¬ì¸íŠ¸

* `localStorage`ë‚˜ `cookie`ì˜ JWT ì‚­ì œ
* í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ì´ˆê¸°í™” (ì˜ˆ: `useAuthStore.logout()`)
* ì„œë²„ì—ì„œëŠ” í† í° ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²˜ë¦¬(ì„ íƒ ì‚¬í•­)

---

### ğŸ“ ì˜ˆì‹œ ì½”ë“œ (í´ë¼ì´ì–¸íŠ¸ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬)

```jsx
// src/components/LogoutButton.js

import { useNavigate } from 'react-router-dom';
import useAuthStore from '../store/useAuthStore';

const LogoutButton = () => {
  const logout = useAuthStore((state) => state.logout);
  const navigate = useNavigate();

  const handleLogout = () => {
    localStorage.removeItem('token'); // JWT ì œê±°
    logout(); // ì „ì—­ ìƒíƒœ ì´ˆê¸°í™”
    navigate('/login');
  };

  return <button onClick={handleLogout}>ë¡œê·¸ì•„ì›ƒ</button>;
};

export default LogoutButton;
```

---

### ğŸ›¡ ì„œë²„ ì¸¡ í† í° ë¬´íš¨í™” ì˜ˆì‹œ (ì„ íƒ)

```js
// ì˜ˆ: Redis ë“±ì„ ì‚¬ìš©í•œ JWT ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²˜ë¦¬

app.post('/api/logout', (req, res) => {
  const token = req.headers.authorization?.split(' ')[1];
  redis.set(token, 'blacklisted', 'EX', 60 * 60 * 24); // 24ì‹œê°„ ìœ íš¨
  res.sendStatus(200);
});
```

---

### ğŸ“ ì¶”ê°€ ì„¤ëª…

* JWTëŠ” ê¸°ë³¸ì ìœ¼ë¡œ statelessì´ê¸° ë•Œë¬¸ì— ì„œë²„ ë¡œê·¸ì•„ì›ƒì€ ì„ íƒ ì‚¬í•­
* ë³´ì•ˆì„ ê°•í™”í•˜ë ¤ë©´ ë¡œê·¸ì•„ì›ƒ ì‹œ ì„œë²„ì—ë„ ìš”ì²­ì„ ë³´ë‚´ì–´ ë¬´íš¨í™” ì²˜ë¦¬
* ì¿ í‚¤ ê¸°ë°˜ ì¸ì¦ì´ë¼ë©´ `Set-Cookie: token=; Max-Age=0`ë¡œ ì‚­ì œ

---
