# 098. í† í°ì„ ì¿ í‚¤ì— ì €ì¥í•˜ì—¬ ë¡œê·¸ì¸ ìœ ì§€í•˜ê¸°

## ğŸ“„ ì„¤ëª…

`localStorage` ëŒ€ì‹  **ë¸Œë¼ìš°ì € ì¿ í‚¤(cookie)**ë¥¼ ì‚¬ìš©í•˜ì—¬  
JWT í† í°ì„ ì €ì¥í•˜ê³  ì¸ì¦ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.  
ì¿ í‚¤ëŠ” ë¸Œë¼ìš°ì € ìš”ì²­ë§ˆë‹¤ ìë™ìœ¼ë¡œ ì „ì†¡ë˜ë¯€ë¡œ  
**CSRF ë³´ì•ˆ ì„¤ì •ê³¼ í•¨ê»˜ ì„œë²„ ì¸ì¦ì— í™œìš©**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## âœ… ì£¼ìš” í¬ì¸íŠ¸
- í† í°ì„ `document.cookie` ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì €ì¥
- ì„œë²„ëŠ” `HttpOnly`, `Secure`, `SameSite` ì„¤ì •ëœ ì¿ í‚¤ ë°œê¸‰
- í´ë¼ì´ì–¸íŠ¸ëŠ” ì¸ì¦ ìš”ì²­ ì‹œ ìë™ìœ¼ë¡œ ì¿ í‚¤ ì „ì†¡

---

## âœ… ì˜ˆì‹œ ì½”ë“œ

### 1. ë¡œê·¸ì¸ ì‹œ ì¿ í‚¤ ì €ì¥ (í”„ë¡ íŠ¸)

```jsx
// src/pages/Login.js

import axios from 'axios';

const Login = () => {
  const handleLogin = async () => {
    await axios.post('/api/login', {
      username: 'user1',
      password: '1234',
    }, {
      withCredentials: true, // ì¿ í‚¤ í¬í•¨ ì„¤ì •
    });

    // ì´í›„ ì¸ì¦ëœ ì‚¬ìš©ì ìš”ì²­ì€ ì¿ í‚¤ ìë™ í¬í•¨
    alert('ë¡œê·¸ì¸ ì™„ë£Œ');
  };

  return <button onClick={handleLogin}>ë¡œê·¸ì¸</button>;
};

export default Login;
```

---

### 2. ì‚¬ìš©ì ì •ë³´ ìš”ì²­

```jsx
axios.get('/api/me', {
  withCredentials: true, // ì¿ í‚¤ ìë™ í¬í•¨
});
```

---

## ğŸ“ ì¶”ê°€ ì„¤ëª…
- ì„œë²„ëŠ” `Set-Cookie` í—¤ë”ë¡œ í† í°ì„ `HttpOnly` ì¿ í‚¤ë¡œ ì „ë‹¬
- í´ë¼ì´ì–¸íŠ¸ëŠ” `withCredentials: true` ì˜µì…˜ ë°˜ë“œì‹œ í•„ìš”
- CSRF ë°©ì§€ë¥¼ ìœ„í•´ SameSite ì„¤ì •ë„ ì¤‘ìš” (`SameSite=Lax` ë˜ëŠ” `Strict`)
- í† í° ì €ì¥ì†Œë¡œ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•  ê²½ìš° ë³´ì•ˆì ìœ¼ë¡œ ë” ì•ˆì „ (XSS ë°©ì§€)
