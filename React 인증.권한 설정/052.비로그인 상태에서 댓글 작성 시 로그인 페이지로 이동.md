# âœ… 052. ë¹„ë¡œê·¸ì¸ ìƒíƒœì—ì„œ ëŒ“ê¸€ ì‘ì„± ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™

### ğŸ“„ ì„¤ëª…

ëŒ“ê¸€ ì…ë ¥ì°½ì€ í•­ìƒ ë³´ì´ë˜,
ë¹„ë¡œê·¸ì¸ ìƒíƒœì—ì„œ ì‘ì„± ë²„íŠ¼ í´ë¦­ ì‹œ **ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ê°•ì œ ì´ë™**ì‹œí‚¤ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.
UX í–¥ìƒì„ ìœ„í•´ ë¡œê·¸ì¸ í›„ ë‹¤ì‹œ ëŒì•„ì˜¬ ê²½ë¡œë„ í•¨ê»˜ ì „ë‹¬í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤.

---

## âœ… ì£¼ìš” í¬ì¸íŠ¸

* ë¡œê·¸ì¸ ì—¬ë¶€ í™•ì¸
* ë¹„ë¡œê·¸ì¸ ì‹œ `navigate('/login')`
* ë¡œê·¸ì¸ í›„ ì›ë˜ í˜ì´ì§€ë¡œ ëŒì•„ì˜¬ ìˆ˜ ìˆë„ë¡ redirect ì„¤ì •

---

### ğŸ“ ì˜ˆì‹œ ì½”ë“œ

```jsx
// src/components/CommentForm.js

import { useState } from 'react';
import { useNavigate, useLocation } from 'react-router-dom';
import useAuthStore from '../store/useAuthStore';

const CommentForm = ({ onSubmit }) => {
  const { isAuthenticated, user } = useAuthStore();
  const [comment, setComment] = useState('');
  const navigate = useNavigate();
  const location = useLocation();

  const handleSubmit = (e) => {
    e.preventDefault();

    if (!isAuthenticated) {
      // í˜„ì¬ ìœ„ì¹˜ë¥¼ stateë¡œ ì „ë‹¬
      navigate('/login', { state: { from: location.pathname } });
      return;
    }

    if (!comment.trim()) return;

    onSubmit({
      content: comment,
      author: user.name,
    });
    setComment('');
  };

  return (
    <form onSubmit={handleSubmit}>
      <textarea
        value={comment}
        onChange={(e) => setComment(e.target.value)}
        placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”"
      />
      <button type="submit">ì‘ì„±</button>
    </form>
  );
};

export default CommentForm;
```

---

### ğŸ“ ì¶”ê°€ ì„¤ëª…

* ë¡œê·¸ì¸ í›„ ì´ì „ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•  ë• `/login`ì—ì„œ `location.state.from`ì„ í™œìš©
* UIëŠ” ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ë©´ì„œë„ ì¸ì¦ íë¦„ì„ ë¶€ë“œëŸ½ê²Œ ì—°ê²° ê°€ëŠ¥
