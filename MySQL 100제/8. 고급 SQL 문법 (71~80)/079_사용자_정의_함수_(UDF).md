좋습니다.
**79번 – 사용자 정의 함수 (UDF)** 예제를 설명드리겠습니다.

---

## ✅ 79. 사용자 정의 함수 (UDF)

### 📌 개념

* \*\*사용자 정의 함수(User Defined Function)\*\*는 MySQL에서 사용자가 직접 만든 함수
* SELECT, WHERE 절 등 일반 SQL 구문에서 호출 가능
* 반드시 값을 반환해야 함 (`RETURN`)
* 저장 프로시저와 달리 트랜잭션 제어 불가

---

### 📄 예제 1: 간단한 문자열 함수

```sql
DELIMITER //

CREATE FUNCTION hello_user(name VARCHAR(50))
RETURNS VARCHAR(100)
DETERMINISTIC
BEGIN
    RETURN CONCAT('안녕하세요, ', name, '님!');
END //

DELIMITER ;
```

* 호출:

```sql
SELECT hello_user('홍길동');
```

---

### 📄 예제 2: 세금 계산 함수

```sql
DELIMITER //

CREATE FUNCTION calc_tax(amount DECIMAL(10,2))
RETURNS DECIMAL(10,2)
DETERMINISTIC
BEGIN
    RETURN amount * 0.1; -- 10% 세금
END //

DELIMITER ;
```

* 호출:

```sql
SELECT calc_tax(50000);
```

---

### 📄 예제 3: 할인율 적용 함수

```sql
DELIMITER //

CREATE FUNCTION apply_discount(price DECIMAL(10,2), rate DECIMAL(3,2))
RETURNS DECIMAL(10,2)
DETERMINISTIC
BEGIN
    RETURN price - (price * rate);
END //

DELIMITER ;
```

* 호출:

```sql
SELECT apply_discount(100000, 0.15);
```

---

### 📄 예제 4: 함수 삭제

```sql
DROP FUNCTION IF EXISTS hello_user;
```

---

### 📄 예제 5: 함수 목록 확인

```sql
SHOW FUNCTION STATUS WHERE Db = 'mydb';
```

---

### 🧠 실무 팁

* **DETERMINISTIC**: 동일 입력값 → 항상 동일 출력값 (성능 최적화 가능)
* 복잡한 비즈니스 계산식을 SQL 내부에서 처리할 때 유용
* 너무 많은 로직을 함수에 넣으면 유지보수 어려움
* 대량 데이터 처리 시 성능 이슈 가능 → 인덱스와 함께 튜닝 필요

---

다음은 **80번 – 이벤트 스케줄러** 예제로 넘어갑니다.
계속하시려면 `.` 을 입력해주세요.
