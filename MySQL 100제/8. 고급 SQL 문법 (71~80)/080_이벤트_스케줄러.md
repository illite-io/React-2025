좋습니다.
**80번 – 이벤트 스케줄러** 예제를 설명드리겠습니다.

---

## ✅ 80. 이벤트 스케줄러 (Event Scheduler)

### 📌 개념

* MySQL에서 **특정 시간/주기마다 자동 실행되는 작업**을 설정하는 기능
* 운영 스케줄러처럼 데이터 정리, 로그 삭제, 통계 갱신 등에 활용 가능
* 기본적으로 비활성화되어 있으므로 사용 전 활성화 필요

---

### 📄 예제 1: 이벤트 스케줄러 활성화

```sql
SET GLOBAL event_scheduler = ON;
```

* 서버 재시작 후 유지하려면 `my.cnf`에 추가:

```ini
event_scheduler=ON
```

---

### 📄 예제 2: 하루마다 데이터 삭제 이벤트

```sql
DELIMITER //

CREATE EVENT delete_old_logs
ON SCHEDULE EVERY 1 DAY
DO
BEGIN
    DELETE FROM logs WHERE created_at < NOW() - INTERVAL 30 DAY;
END //

DELIMITER ;
```

* 30일 이상 지난 로그 자동 삭제

---

### 📄 예제 3: 특정 시간에 1회 실행

```sql
CREATE EVENT run_once
ON SCHEDULE AT '2025-08-15 23:59:00'
DO
    INSERT INTO reports(title, created_at) VALUES ('정기 리포트', NOW());
```

* 지정된 날짜·시간에 한 번 실행

---

### 📄 예제 4: 매 5분마다 실행

```sql
CREATE EVENT refresh_cache
ON SCHEDULE EVERY 5 MINUTE
DO
    UPDATE cache_table SET last_updated = NOW();
```

---

### 📄 예제 5: 이벤트 확인 및 삭제

```sql
SHOW EVENTS;
DROP EVENT IF EXISTS delete_old_logs;
```

---

### 🧠 실무 팁

* 스케줄러는 DB 부하가 적은 시간에 실행하는 것이 좋음
* 대량 데이터 작업 시 트랜잭션 사용 고려
* 중요한 배치 작업은 OS의 **cron**과 비교하여 안정성 검토 필요
* 권한: `EVENT` 권한이 있어야 생성 가능

---

다음은 **81번 – 사용자 생성** 예제로 넘어갑니다.
계속하시려면 `.` 을 입력해주세요.
