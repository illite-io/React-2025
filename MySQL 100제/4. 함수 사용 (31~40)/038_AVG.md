좋습니다.
**38번 – AVG 함수** 예제를 설명드리겠습니다.

---

## ✅ 38. AVG 함수

### 📌 개념

`AVG()` 함수는 숫자 컬럼의 **평균값**을 계산합니다.
NULL 값은 자동으로 제외됩니다.

---

### 📄 예제 1: 전체 평균 계산

```sql
SELECT AVG(total_price) AS average_price
FROM orders;
```

* 모든 주문의 평균 금액을 계산

---

### 📄 예제 2: 조건부 평균

```sql
SELECT AVG(total_price) AS vip_avg_price
FROM orders
WHERE customer_grade = 'VIP';
```

* VIP 고객의 평균 주문 금액 계산

---

### 📄 예제 3: 그룹별 평균

```sql
SELECT customer_id, AVG(total_price) AS avg_price
FROM orders
GROUP BY customer_id;
```

* 고객별 평균 구매 금액 집계

---

### 📄 예제 4: 반올림된 평균

```sql
SELECT ROUND(AVG(total_price), 2) AS avg_price_rounded
FROM orders;
```

* 소수점 둘째 자리까지 반올림한 평균

---

### 📄 예제 5: AVG + CASE 조건별 평균

```sql
SELECT 
  AVG(CASE WHEN status = 'Completed' THEN total_price END) AS completed_avg,
  AVG(CASE WHEN status = 'Pending' THEN total_price END) AS pending_avg
FROM orders;
```

* 상태별 평균 금액을 한 번에 계산

---

### 🧠 실무 팁

* `AVG()`는 내부적으로 `SUM() / COUNT()` 연산이므로 대량 데이터에서는 인덱스 사용 여부가 성능에 영향
* NULL 값을 포함하면 평균이 왜곡되지 않지만, 특정 값(예: 0)은 포함되므로 의미를 잘 구분해야 함
* 통계용으로 평균 대신 중앙값(MEDIAN)을 쓰는 것이 더 적절한 경우도 있음 (MySQL 8 이상에서 윈도우 함수로 구현 가능)

---

다음은 **39번 – MIN, MAX 함수** 예제로 넘어갑니다.
계속하시려면 `.` 을 입력해주세요.
