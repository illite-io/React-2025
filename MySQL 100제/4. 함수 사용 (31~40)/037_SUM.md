좋습니다.
**37번 – SUM 함수** 예제를 설명드리겠습니다.

---

## ✅ 37. SUM 함수

### 📌 개념

`SUM()` 함수는 **숫자 컬럼의 총합**을 계산합니다.
NULL 값은 합산에서 자동으로 제외됩니다.

---

### 📄 예제 1: 전체 매출 합계

```sql
SELECT SUM(total_price) AS total_sales
FROM orders;
```

* 모든 주문의 `total_price` 합계를 구함

---

### 📄 예제 2: 조건부 합계

```sql
SELECT SUM(total_price) AS vip_sales
FROM orders
WHERE customer_grade = 'VIP';
```

* VIP 고객의 매출 합계

---

### 📄 예제 3: 그룹별 합계

```sql
SELECT customer_id, SUM(total_price) AS customer_sales
FROM orders
GROUP BY customer_id;
```

* 고객별 총 구매 금액 집계

---

### 📄 예제 4: SUM + CASE 조건별 집계

```sql
SELECT 
  SUM(CASE WHEN status = 'Completed' THEN total_price ELSE 0 END) AS completed_sales,
  SUM(CASE WHEN status = 'Pending' THEN total_price ELSE 0 END) AS pending_sales
FROM orders;
```

* 상태별 매출 합계를 한 번에 계산

---

### 📄 예제 5: DISTINCT 합계

```sql
SELECT SUM(DISTINCT total_price) AS unique_sales_sum
FROM orders;
```

* 중복된 금액을 한 번만 합산

---

### 🧠 실무 팁

* SUM은 숫자형 컬럼에서만 의미 있음 (문자형은 자동 변환 시 성능 저하 가능)
* 대규모 데이터에서는 인덱스가 없으면 SUM 계산이 느려질 수 있음
* 필요 시 `ROLLUP`을 사용하면 그룹별 합계와 전체 합계를 함께 계산 가능

```sql
SELECT customer_id, SUM(total_price) AS sales
FROM orders
GROUP BY customer_id WITH ROLLUP;
```

---

다음은 **38번 – AVG 함수** 예제로 넘어갑니다.
계속하시려면 `.` 을 입력해주세요.
