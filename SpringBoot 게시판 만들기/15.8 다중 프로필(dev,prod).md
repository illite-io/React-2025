좋습니다. 이제 15-9 단계, **다중 프로필(application-dev.yml / -prod.yml)** 로 넘어가겠습니다.
이 단계는 개발/운영 환경을 분리해서 설정 충돌을 막고, 안전하게 배포하기 위한 가장 일반적인 방법입니다.

---

# 1) 프로필(Profile) 개념

* **application.yml**: 공통 설정
* **application-dev.yml**: 개발 환경 전용 설정 (로컬 DB, DEBUG 로그 등)
* **application-prod.yml**: 운영 환경 전용 설정 (운영 DB, 보안 옵션 등)

스프링 부트는 `spring.profiles.active` 값에 따라 자동으로 해당 설정을 불러옵니다.

---

# 2) 공통 설정 (application.yml)

`src/main/resources/application.yml`

```yaml
spring:
  profiles:
    active: dev   # 기본 프로필(dev)로 실행
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
mybatis:
  mapper-locations: classpath:mapper/**/*.xml
  type-aliases-package: com.example.boardapi.domain
  configuration:
    map-underscore-to-camel-case: true
server:
  port: 8080
```

---

# 3) 개발 환경 설정 (application-dev.yml)

`src/main/resources/application-dev.yml`

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/boarddb?serverTimezone=Asia/Seoul&characterEncoding=utf8
    username: board
    password: board1234!
logging:
  level:
    root: DEBUG
    com.example.boardapi: DEBUG
```

* 로컬 PC의 MySQL 사용
* 로그 레벨을 DEBUG로 → SQL/에러 확인 용이

---

# 4) 운영 환경 설정 (application-prod.yml)

`src/main/resources/application-prod.yml`

```yaml
spring:
  datasource:
    url: jdbc:mysql://prod-db-server:3306/boarddb?serverTimezone=Asia/Seoul&characterEncoding=utf8
    username: prod_user
    password: ${DB_PASSWORD}   # 환경변수로 관리
server:
  port: 8080
logging:
  level:
    root: INFO
    com.example.boardapi: INFO
```

* 운영 DB 접속 정보
* 비밀번호는 환경변수(`DB_PASSWORD`)로 주입 → 코드에 하드코딩 금지
* 로그 레벨은 INFO 이상만 출력 → 성능 & 보안

---

# 5) 실행 방법

### 로컬(dev)

```bash
mvn spring-boot:run -Dspring-boot.run.profiles=dev
```

### 운영(prod)

```bash
java -jar board-api-0.0.1-SNAPSHOT.jar --spring.profiles.active=prod
```

---

# 6) 이해 포인트

* **환경별 분리**

  * 개발: 빠른 디버깅, 로컬 자원
  * 운영: 보안, 성능, 최소 로그
* **환경변수 활용**

  * 운영 비밀번호/API Key는 절대 Git에 포함시키지 않고, 환경변수 또는 Secret Manager에서 주입
* **배포 자동화(CI/CD)**

  * GitHub Actions, Jenkins 등에서 배포 시 `--spring.profiles.active=prod` 지정

---

여기까지가 **다중 프로필 설정(application-dev.yml / -prod.yml)** 단계입니다.
다음은 15-10, \*\*배포(Jar, Docker, CI/CD)\*\*인데, 바로 이어서 설명해드릴까요?
