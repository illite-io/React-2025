좋습니다. 이제 마지막 15-10 단계, \*\*배포(Jar, Docker, CI/CD)\*\*로 넘어가겠습니다.
이 단계는 지금까지 만든 Spring Boot 게시판 API 서버를 실제 서비스 환경에 배포하는 과정입니다. 가장 일반적인 방법들을 순서대로 설명드리겠습니다.

---

# 1) JAR 파일로 배포

Spring Boot는 기본적으로 **실행 가능한 JAR** 파일을 제공합니다.

### 빌드

```bash
mvn clean package -DskipTests
```

### 결과

```
target/board-api-0.0.1-SNAPSHOT.jar
```

### 실행

```bash
java -jar target/board-api-0.0.1-SNAPSHOT.jar --spring.profiles.active=prod
```

* 서버 포트(8080)에서 API 서버 실행
* `application-prod.yml`이 적용됨

---

# 2) Docker로 배포

### Dockerfile 생성

`board-api/Dockerfile`

```dockerfile
FROM eclipse-temurin:21-jdk AS build
WORKDIR /app
COPY . .
RUN ./mvnw clean package -DskipTests

FROM eclipse-temurin:21-jre
WORKDIR /app
COPY --from=build /app/target/board-api-0.0.1-SNAPSHOT.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java","-jar","app.jar","--spring.profiles.active=prod"]
```

### 빌드 & 실행

```bash
docker build -t board-api:1.0 .
docker run -d -p 8080:8080 --name board board-api:1.0
```

* 호스트 `http://localhost:8080` → 컨테이너 API 접근
* 운영 환경에서 MySQL도 Docker Compose로 함께 실행 가능

---

# 3) Docker Compose 예시

`docker-compose.yml`

```yaml
version: '3.8'
services:
  app:
    build: .
    ports:
      - "8080:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=prod
      - DB_PASSWORD=${DB_PASSWORD}
    depends_on:
      - db

  db:
    image: mysql:8
    environment:
      MYSQL_ROOT_PASSWORD: root1234!
      MYSQL_DATABASE: boarddb
      MYSQL_USER: board
      MYSQL_PASSWORD: board1234!
    ports:
      - "3306:3306"
    volumes:
      - db_data:/var/lib/mysql

volumes:
  db_data:
```

---

# 4) CI/CD (가장 일반적인 GitHub Actions 예시)

`.github/workflows/deploy.yml`

```yaml
name: Build and Deploy

on:
  push:
    branches: [ "main" ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Set up JDK 21
        uses: actions/setup-java@v4
        with:
          java-version: '21'
          distribution: 'temurin'

      - name: Build with Maven
        run: mvn clean package -DskipTests

      - name: Build Docker image
        run: docker build -t my-registry/board-api:latest .

      - name: Push Docker image
        run: |
          echo "${{ secrets.DOCKER_PASSWORD }}" | docker login -u "${{ secrets.DOCKER_USERNAME }}" --password-stdin
          docker push my-registry/board-api:latest
```

→ 이후 서버에서 `docker pull my-registry/board-api:latest && docker run ...` 으로 자동 배포 가능.

---

# 5) 운영 배포 시 고려사항

* **무중단 배포**: Nginx + Blue/Green or Rolling 방식
* **로깅**: stdout 로그 → ELK/Prometheus/Grafana 연동
* **보안**: DB 비밀번호, JWT Secret은 `.env` 또는 Secret Manager에서 관리
* **스케일링**: Docker Compose → Kubernetes (K8s) 확장 가능

---

# 6) 이해 포인트

* **Jar 배포**: 가장 단순, Java 실행만 있으면 됨
* **Docker 배포**: 표준화된 환경 → 어디서든 실행 가능
* **CI/CD**: 자동화로 빌드/배포 시간을 단축, 휴먼 에러 방지
* **운영 환경 분리**: `application-prod.yml` 기반으로 안전한 설정 적용

---

여기까지가 15단계 로드맵의 마지막, \*\*배포(Jar, Docker, CI/CD)\*\*까지 완료한 전체 Spring Boot 게시판 API 서버 구축 과정입니다.

이제 전체 과정을 마쳤는데, 원하시면 제가 **1\~15단계 전체를 목차식으로 요약 정리**해드릴 수도 있고, 특정 단계 코드를 별도로 `.md` 문서로 정리해드릴 수도 있습니다. 원하시는 방식이 있을까요?
